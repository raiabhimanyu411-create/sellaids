"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[2639],{2639(e,t,s){s.r(t),s.d(t,{default:()=>f});var r=s(65043),a=s(24974),n=s(55026),o=s(75200),i=s(63670),l=s(41180),d=s(17869),c=s(56102),x=s(87734),m=s(38676),h=s(52185),u=s(6026),p=s(75748),g=s(16992),b=s(81035),j=s(70579);const f=()=>{const{user:e}=(0,a.k)(),[t,s]=(0,r.useState)({totalOrders:0,pendingOrders:0,wishlistCount:0,supportTickets:0}),[f,y]=(0,r.useState)({trends:[],status:[]}),[v,N]=(0,r.useState)([]),[w,k]=(0,r.useState)(!0),[S,C]=(0,r.useState)(null),O=(0,r.useCallback)(async()=>{try{k(!0),C(null);const{data:e}=await n.A.get("/api/user/dashboard"),t=e.data;s({totalOrders:t.total_orders,pendingOrders:t.pending_orders,wishlistCount:t.wishlist_items,supportTickets:t.support_tickets}),y({trends:t.order_trends.map(e=>({month:new Date(e.month+"-01").toLocaleString("default",{month:"short"}),orders:+e.count})),status:t.order_status_breakdown.map(e=>({name:e.order_status.charAt(0).toUpperCase()+e.order_status.slice(1),value:+e.count}))}),N(t.recent_activity)}catch(r){var e,t;C((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Session expired. Please login again.")}finally{k(!1)}},[]);(0,r.useEffect)(()=>{O()},[O]);const A=[{title:"Total Orders",value:t.totalOrders,icon:o.est,color:"text-blue-600",link:"/user/orders"},{title:"Pending Orders",value:t.pendingOrders,icon:o.Ohp,color:"text-yellow-600",link:"/user/orders?filter=pending"},{title:"Wishlist Items",value:t.wishlistCount,icon:o.icx,color:"text-pink-600",link:"/user/wishlist"},{title:"Support Tickets",value:t.supportTickets,icon:o.mEP,color:"text-green-600",link:"/user/support"}],_=["#10b981","#f59e0b","#ef4444","#3b82f6","#8b5cf6"];return w?(0,j.jsx)("div",{className:"p-6 bg-gray-50 min-h-screen flex items-center justify-center",children:(0,j.jsx)("p",{className:"text-lg text-gray-600",children:"Loading your dashboard\u2026"})}):(0,j.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,j.jsxs)("div",{className:"mb-8",children:[(0,j.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Dashboard Overview"}),(0,j.jsxs)("p",{className:"text-gray-600 mt-1",children:["Welcome back, ",(0,j.jsx)("span",{className:"font-medium text-pink-600",children:(null===e||void 0===e?void 0:e.name)||"User"}),"!"]})]}),S&&(0,j.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:S}),(0,j.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 mb-10",children:A.map((e,t)=>{const s=e.icon;return(0,j.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm hover:shadow-lg transition-all border border-gray-100 group cursor-pointer",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.title}),(0,j.jsx)("p",{className:"text-3xl font-bold mt-2",style:{color:e.color.replace("600","700")},children:e.value})]}),(0,j.jsx)("div",{className:"p-3 rounded-full bg-opacity-10 ".concat(e.color.replace("text-","bg-")," group-hover:scale-110 transition-transform"),children:(0,j.jsx)(s,{className:"w-8 h-8 ".concat(e.color)})})]})},t)})}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10",children:[(0,j.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Order Trend (Last 6 Months)"}),f.trends.length?(0,j.jsx)(l.u,{width:"100%",height:280,children:(0,j.jsxs)(p.b,{data:f.trends,margin:{top:5,right:30,left:20,bottom:5},children:[(0,j.jsx)(x.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,j.jsx)(h.W,{dataKey:"month",tick:{fontSize:12}}),(0,j.jsx)(u.h,{tick:{fontSize:12}}),(0,j.jsx)(i.m,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,j.jsx)(m.N1,{type:"monotone",dataKey:"orders",stroke:"#ec4899",strokeWidth:3,dot:{fill:"#ec4899",r:6}})]})}):(0,j.jsx)("p",{className:"text-center text-gray-500 py-10",children:"No order data yet"})]}),(0,j.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Order Status"}),f.status.length?(0,j.jsx)(l.u,{width:"100%",height:280,children:(0,j.jsxs)(g.r,{children:[(0,j.jsx)(c.Fq,{data:f.status,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:s}=e;return"".concat(t," ").concat((100*s).toFixed(0),"%")},outerRadius:90,fill:"#8884d8",dataKey:"value",children:f.status.map((e,t)=>(0,j.jsx)(d.f,{fill:_[t%_.length]},"cell-".concat(t)))}),(0,j.jsx)(i.m,{})]})}):(0,j.jsx)("p",{className:"text-center text-gray-500 py-10",children:"No status data yet"})]})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),(0,j.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,j.jsxs)("button",{onClick:()=>window.location.href="/shop",className:"flex items-center gap-2 bg-pink-600 text-white px-5 py-3 rounded-lg hover:bg-pink-700 transition font-medium",children:[(0,j.jsx)(o.iHs,{})," Continue Shopping"]}),(0,j.jsxs)("button",{onClick:()=>window.location.href="/user/orders",className:"flex items-center gap-2 border border-pink-600 text-pink-600 px-5 py-3 rounded-lg hover:bg-pink-50 transition font-medium",children:[(0,j.jsx)(o.Vap,{})," View All Orders"]}),(0,j.jsxs)("button",{onClick:()=>window.location.href="/user/support",className:"flex items-center gap-2 border border-gray-300 text-gray-700 px-5 py-3 rounded-lg hover:bg-gray-50 transition font-medium",children:[(0,j.jsx)(o.ppo,{})," Contact Support"]})]})]}),(0,j.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-10",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Activity"}),v.length?(0,j.jsx)("ul",{className:"space-y-3",children:v.map((e,t)=>(0,j.jsxs)("li",{className:"flex justify-between items-center text-sm pb-3 border-b border-gray-100 last:border-0",children:[(0,j.jsx)("span",{className:"text-gray-700",children:e.description}),(0,j.jsx)("span",{className:"text-gray-500",children:e.time})]},t))}):(0,j.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No recent activity"})]}),(0,j.jsx)("div",{className:"mt-8",children:(0,j.jsx)(b.A,{})})]})}},55026(e,t,s){s.d(t,{A:()=>o});var r=s(79722),a=s(24974);const n=r.A.create({baseURL:"https://sellaids.com",withCredentials:!0});n.interceptors.request.use(e=>{const t=a.k.getState().token;return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),n.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(a.k.getState().logout(),window.location.href="/UserAuth/UserLogin"),Promise.reject(e)});const o=n},81035(e,t,s){s.d(t,{A:()=>n});s(65043);var r=s(65469),a=s(70579);const n=()=>(0,a.jsx)("div",{className:"mt-4 py-4 border-t border-gray-200 bg-gray-50",children:(0,a.jsx)("div",{className:"max-w-3xl mx-auto text-center",children:(0,a.jsxs)("button",{onClick:()=>{window.location.href="/"},className:"inline-flex items-center gap-2 text-gray-700 hover:text-red-600 font-medium text-lg transition-colors duration-200 group",children:[(0,a.jsx)(r.A,{size:20,className:"mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Website"]})})})}}]);
//# sourceMappingURL=2639.9e1eb80f.chunk.js.map