/*! For license information please see 151.a31cefb6.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[151],{35087(e,s,a){a.d(s,{A:()=>r});const r=(0,a(77784).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},50151(e,s,a){a.r(s),a.d(s,{default:()=>m});var r=a(89379),n=a(65043),t=a(79722),o=a(23768),c=a(94651),i=a(35087),d=a(81035),l=a(70579);const u="https://sellaids.com",m=()=>{var e;const[s,a]=(0,n.useState)("personal"),[m,x]=(0,n.useState)({name:"",email:"",phone:"",business_name:"",business_type:"",gst_number:"",pan_number:"",bank_name:"",account_number:"",ifsc_code:"",account_type:"",photo:null}),[b,p]=(0,n.useState)({}),[g,h]=(0,n.useState)(!1),[y,f]=(0,n.useState)(!1),[w,v]=(0,n.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[j,_]=(0,n.useState)(!1),[N,k]=(0,n.useState)({currentPassword:!1,newPassword:!1,confirmPassword:!1}),P=async()=>{try{const e=await t.A.get("".concat(u,"/api/vendor/profile"),{withCredentials:!0}),s=e.data.data||e.data;x({name:s.name||"",email:s.email||"",phone:s.phone||"",business_name:s.business_name||"",business_type:s.business_type||"",gst_number:s.gst_number||"",pan_number:s.pan_number||"",bank_name:s.bank_name||"",account_number:s.account_number||"",ifsc_code:s.ifsc_code||"",account_type:s.account_type||"",photo:s.photo||null})}catch(e){o.oR.error("Failed to load profile")}};(0,n.useEffect)(()=>{P()},[]);const C=e=>{const{name:s,value:a}=e.target;x((0,r.A)((0,r.A)({},m),{},{[s]:a}))},A=e=>{const{name:s,value:a}=e.target;v((0,r.A)((0,r.A)({},w),{},{[s]:a}))};return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 px-2 py-6 sm:px-4 lg:px-8",children:(0,l.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"My Profile"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your account information securely"})]}),(0,l.jsx)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-8",children:(0,l.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-pink-600 p-6 sm:p-8",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-6 text-white",children:[(0,l.jsx)("div",{className:"w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-4xl font-bold border-4 border-white/30 overflow-hidden",children:m.photo?(0,l.jsx)("img",{src:m.photo,alt:"Profile",className:"w-full h-full object-cover"}):(null===(e=m.name)||void 0===e?void 0:e.charAt(0).toUpperCase())||"V"}),(0,l.jsxs)("div",{className:"text-center sm:text-left",children:[(0,l.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold",children:m.name||"Vendor Name"}),(0,l.jsx)("p",{className:"text-white/90 mt-1",children:m.email||"email@example.com"}),(0,l.jsx)("p",{className:"text-white/80 text-sm mt-1",children:m.business_name||"Your Business"})]})]})})}),(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,l.jsx)("div",{className:"sticky top-0 bg-white border-b z-10 overflow-x-auto scrollbar-hide",children:(0,l.jsx)("div",{className:"flex gap-2 p-3",children:[{id:"personal",label:"Personal Info"},{id:"business",label:"Business Info"},{id:"bank",label:"Bank Details"},{id:"security",label:"Security"}].map(e=>(0,l.jsx)("button",{onClick:()=>a(e.id),className:"px-5 py-3 rounded-xl text-sm font-medium whitespace-nowrap transition-all ".concat(s===e.id?"bg-gradient-to-r from-orange-500 to-pink-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"),children:e.label},e.id))})}),(0,l.jsx)("div",{className:"p-6 sm:p-8",children:(0,l.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"space-y-8",children:["personal"===s&&(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,l.jsx)("input",{type:"text",name:"name",value:m.name,onChange:C,disabled:!g,className:"w-full px-4 py-3 rounded-xl border ".concat(b.name?"border-red-500":"border-gray-300"," focus:border-orange-500 focus:ring-4 focus:ring-orange-100 transition ").concat(!g&&"bg-gray-50")}),b.name&&(0,l.jsx)("p",{className:"text-red-500 text-xs mt-1",children:b.name})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,l.jsx)("input",{type:"email",value:m.email,disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 bg-gray-100 text-gray-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,l.jsx)("input",{type:"text",name:"phone",value:m.phone,onChange:C,disabled:!g,className:"w-full px-4 py-3 rounded-xl border ".concat(b.phone?"border-red-500":"border-gray-300"," focus:border-orange-500 focus:ring-4 focus:ring-orange-100 transition ").concat(!g&&"bg-gray-50")}),b.phone&&(0,l.jsx)("p",{className:"text-red-500 text-xs mt-1",children:b.phone})]})]}),"business"===s&&(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["business_name","business_type","gst_number","pan_number"].map(e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 capitalize",children:e.replace(/_/g," ")}),(0,l.jsx)("input",{type:"text",name:e,value:m[e],onChange:C,disabled:!g,className:"w-full px-4 py-3 rounded-xl border ".concat(b[e]?"border-red-500":"border-gray-300"," focus:border-orange-500 focus:ring-4 focus:ring-orange-100 transition ").concat(!g&&"bg-gray-50")}),b[e]&&(0,l.jsx)("p",{className:"text-red-500 text-xs mt-1",children:b[e]})]},e))}),"bank"===s&&(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Name"}),(0,l.jsx)("input",{type:"text",name:"bank_name",value:m.bank_name,onChange:C,disabled:!g,className:"w-full px-4 py-3 rounded-xl border ".concat(b.bank_name?"border-red-500":"border-gray-300"," focus:border-orange-500 focus:ring-4 focus:ring-orange-100 transition ").concat(!g&&"bg-gray-50")})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Number"}),(0,l.jsx)("input",{type:"text",name:"account_number",value:m.account_number,onChange:C,disabled:!g,className:"w-full px-4 py-3 rounded-xl border ".concat(b.account_number?"border-red-500":"border-gray-300"," focus:border-orange-500 focus:ring-4 focus:ring-orange-100 transition ").concat(!g&&"bg-gray-50")})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IFSC Code"}),(0,l.jsx)("input",{type:"text",name:"ifsc_code",value:m.ifsc_code,onChange:C,disabled:!g,className:"w-full px-4 py-3 rounded-xl border ".concat(b.ifsc_code?"border-red-500":"border-gray-300"," uppercase focus:border-orange-500 focus:ring-4 focus:ring-orange-100 transition ").concat(!g&&"bg-gray-50")})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),g?(0,l.jsxs)("select",{name:"account_type",value:m.account_type||"savings",onChange:C,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-orange-500 focus:ring-4 focus:ring-orange-100",children:[(0,l.jsx)("option",{value:"savings",children:"Savings"}),(0,l.jsx)("option",{value:"current",children:"Current"})]}):(0,l.jsx)("div",{className:"px-4 py-3 bg-gray-50 rounded-xl text-gray-700 capitalize",children:m.account_type||"Not set"})]})]}),"security"===s&&(0,l.jsxs)("div",{className:"max-w-2xl space-y-6",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Change Password"}),["currentPassword","newPassword","confirmPassword"].map(e=>(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"currentPassword"===e?"Current Password":"newPassword"===e?"New Password":"Confirm New Password"}),(0,l.jsx)("input",{type:N[e]?"text":"password",name:e,value:w[e],onChange:A,disabled:!g,className:"w-full px-4 py-3 pr-12 rounded-xl border ".concat(b[e]?"border-red-500":"border-gray-300"," focus:border-orange-500 focus:ring-4 focus:ring-orange-100 transition ").concat(!g&&"bg-gray-50")}),(0,l.jsx)("button",{type:"button",onClick:()=>k(s=>(0,r.A)((0,r.A)({},s),{},{[e]:!s[e]})),className:"absolute right-3 top-10 text-gray-500 hover:text-orange-600",children:N[e]?(0,l.jsx)(c.A,{size:20}):(0,l.jsx)(i.A,{size:20})}),b[e]&&(0,l.jsx)("p",{className:"text-red-500 text-xs mt-1",children:b[e]})]},e))]}),(0,l.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 pt-8 border-t",children:g?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:async()=>{if((()=>{const e={};return"personal"===s&&(m.name.trim()||(e.name="Name is required"),m.phone.trim()?/^\+?\d{10,15}$/.test(m.phone)||(e.phone="Invalid phone number"):e.phone="Phone is required"),"business"===s&&(m.business_name||(e.business_name="Business name required"),m.business_type||(e.business_type="Business type required"),m.gst_number||(e.gst_number="GST number required"),m.pan_number||(e.pan_number="PAN number required")),"bank"===s&&(m.bank_name||(e.bank_name="Bank name required"),m.account_number||(e.account_number="Account number required"),m.ifsc_code?/^[A-Z]{4}0[A-Z0-9]{6}$/.test(m.ifsc_code.toUpperCase())||(e.ifsc_code="Invalid IFSC code"):e.ifsc_code="IFSC code required",m.account_type||(e.account_type="Account type required")),"security"===s&&y&&(w.currentPassword||(e.currentPassword="Current password required"),w.newPassword||(e.newPassword="New password required"),w.newPassword.length<6&&(e.newPassword="Password must be 6+ characters"),w.newPassword!==w.confirmPassword&&(e.confirmPassword="Passwords do not match")),p(e),0===Object.keys(e).length})()){_(!0);try{let e="",a={};"personal"===s?(e="".concat(u,"/api/vendor/personal"),a={name:m.name,phone:m.phone}):"business"===s?(e="".concat(u,"/api/vendor/business"),a={business_name:m.business_name,business_type:m.business_type,gst_number:m.gst_number,pan_number:m.pan_number}):"bank"===s?(e="".concat(u,"/api/vendor/bank"),a={bank_name:m.bank_name,account_number:m.account_number,ifsc_code:m.ifsc_code,account_type:m.account_type}):"security"===s&&(e="".concat(u,"/api/vendor/security"),a=w),await t.A.put(e,a,{withCredentials:!0}),"security"===s?(await t.A.post("".concat(u,"/api/vendor/auth/logout"),{},{withCredentials:!0}),o.oR.success("Password changed! Logging you out..."),setTimeout(()=>window.location.replace("/vendor/login"),1500)):(o.oR.success("Profile updated successfully!"),h(!1),f(!1),P())}catch(r){var e,a;o.oR.error((null===(e=r.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||"Update failed")}finally{_(!1)}}},disabled:j,className:"w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-orange-500 to-pink-600 text-white font-bold rounded-xl hover:shadow-xl transition disabled:opacity-70",children:j?"Saving...":"Save Changes"}),(0,l.jsx)("button",{onClick:()=>{h(!1),f(!1),v({currentPassword:"",newPassword:"",confirmPassword:""}),p({}),P()},className:"w-full sm:w-auto px-8 py-4 bg-gray-200 text-gray-700 font-medium rounded-xl hover:bg-gray-300 transition",children:"Cancel"})]}):(0,l.jsx)("button",{onClick:()=>{h(!0),"security"===s&&f(!0)},className:"w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-orange-500 to-pink-600 text-white font-bold rounded-xl hover:shadow-xl transition transform hover:scale-105",children:"Edit Profile"})})]})})]})]})}),(0,l.jsx)(d.A,{})]})}},65469(e,s,a){a.d(s,{A:()=>r});const r=(0,a(77784).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},81035(e,s,a){a.d(s,{A:()=>t});a(65043);var r=a(65469),n=a(70579);const t=()=>(0,n.jsx)("div",{className:"mt-4 py-4 border-t border-gray-200 bg-gray-50",children:(0,n.jsx)("div",{className:"max-w-3xl mx-auto text-center",children:(0,n.jsxs)("button",{onClick:()=>{window.location.href="/"},className:"inline-flex items-center gap-2 text-gray-700 hover:text-red-600 font-medium text-lg transition-colors duration-200 group",children:[(0,n.jsx)(r.A,{size:20,className:"mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Website"]})})})},94651(e,s,a){a.d(s,{A:()=>r});const r=(0,a(77784).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])}}]);
//# sourceMappingURL=151.a31cefb6.chunk.js.map