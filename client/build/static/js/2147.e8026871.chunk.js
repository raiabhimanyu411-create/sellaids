"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[2147],{22147(e,s,a){a.r(s),a.d(s,{default:()=>o});var r=a(65043),t=a(79722),l=a(23768),c=a(11238),n=a(7104),d=a(70579);const o=()=>{const[e,s]=(0,r.useState)([]),[a,o]=(0,r.useState)(!0),[i,h]=(0,r.useState)(""),[x,p]=(0,r.useState)(1),[m,u]=(0,r.useState)(0),b=async()=>{try{o(!0);const e=await t.A.get("".concat("https://sellaids.com","/api/admin/management/user"),{params:{search:i,page:x,limit:10},withCredentials:!0}),{success:a,data:r,message:c}=e.data;a?(s(r.users||[]),u(r.total||0),l.Ay.success(c)):(s([]),u(0),l.Ay.error(c||"Failed to fetch users"))}catch(e){console.error(e),s([]),u(0),l.Ay.error("Error fetching users")}finally{o(!1)}};(0,r.useEffect)(()=>{b()},[x]);const g=Math.ceil(m/10);return(0,d.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen text-gray-800",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold",children:"Users Management"}),(0,d.jsxs)("button",{onClick:()=>{if(!e.length)return void l.Ay.error("No users to export");const s=c.Wp.json_to_sheet(e.map((e,s)=>({SR_No:10*(x-1)+s+1,Name:e.name,Email:e.email,Phone:e.phone}))),a=c.Wp.book_new();c.Wp.book_append_sheet(a,s,"Users"),c._h(a,"users.xlsx"),l.Ay.success("Excel exported successfully!")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center gap-2 hover:bg-blue-700",children:[(0,d.jsx)(n.A,{size:16})," Export Report"]})]}),(0,d.jsxs)("div",{className:"mb-4 flex gap-2 flex-wrap bg-white shadow-sm p-4 rounded-lg",children:[(0,d.jsx)("input",{type:"text",placeholder:"Search by name, email or phone",value:i,onChange:e=>h(e.target.value),className:"px-4 py-2 border rounded-lg flex-1 focus:ring focus:ring-blue-200"}),(0,d.jsx)("button",{onClick:()=>{p(1),b()},className:"px-4 py-2 bg-[#FF6A00] text-white rounded-lg hover:bg-orange-500",children:"Search"})]}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:(0,d.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,d.jsx)("thead",{className:"bg-gray-100 text-gray-700",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"px-4 py-3 border",children:"SR."}),(0,d.jsx)("th",{className:"px-4 py-3 border",children:"Name"}),(0,d.jsx)("th",{className:"px-4 py-3 border",children:"Email"}),(0,d.jsx)("th",{className:"px-4 py-3 border",children:"Phone"})]})}),(0,d.jsx)("tbody",{children:a?(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:4,className:"text-center py-6",children:"Loading users..."})}):0===e.length?(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:4,className:"text-center py-6",children:"No users found"})}):e.map((e,s)=>(0,d.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,d.jsx)("td",{className:"px-4 py-3 border",children:10*(x-1)+s+1}),(0,d.jsx)("td",{className:"px-4 py-3 border font-medium",children:e.name}),(0,d.jsx)("td",{className:"px-4 py-3 border",children:e.email}),(0,d.jsx)("td",{className:"px-4 py-3 border",children:e.phone})]},e.id))})]})}),g>1&&(0,d.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,d.jsx)("button",{onClick:()=>p(e=>Math.max(e-1,1)),disabled:1===x,className:"px-3 py-1 border rounded hover:bg-gray-100 disabled:opacity-50",children:"Prev"}),Array.from({length:g},(e,s)=>(0,d.jsx)("button",{onClick:()=>p(s+1),className:"px-3 py-1 border rounded ".concat(x===s+1?"bg-blue-600 text-white":""),children:s+1},s)),(0,d.jsx)("button",{onClick:()=>p(e=>Math.min(e+1,g)),disabled:x===g,className:"px-3 py-1 border rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]})}}}]);
//# sourceMappingURL=2147.e8026871.chunk.js.map