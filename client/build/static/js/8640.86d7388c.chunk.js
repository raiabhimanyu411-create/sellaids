/*! For license information please see 8640.86d7388c.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[8640],{26533(e,s,t){t.d(s,{A:()=>a});const a=(0,t(77784).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},68640(e,s,t){t.r(s),t.d(s,{default:()=>x});var a=t(89379),r=t(65043),l=t(47874),n=t(79722),d=t(26533),c=t(7104),o=t(11238),i=t(23768),h=t(70579);const x=()=>{const[e,s]=(0,r.useState)([]),[t,x]=(0,r.useState)(!0),[p,u]=(0,r.useState)(""),[m,b]=(0,r.useState)("all"),[g,j]=(0,r.useState)(1),[y,v]=(0,r.useState)(0),[N,f]=(0,r.useState)(null),w=async()=>{try{x(!0);const e=await n.A.get("".concat("https://sellaids.com","/api/admin/management/vendor"),{params:{search:p,status:m,page:g,limit:10},withCredentials:!0}),{success:t,data:a,message:r}=e.data;t?(s(a.vendors),v(a.total),i.Ay.success(r)):(s([]),v(0),i.Ay.error(r))}catch(e){console.error(e),s([]),v(0),i.Ay.error("Error fetching vendors")}finally{x(!1)}};(0,r.useEffect)(()=>{w()},[m,g]);const k=()=>f(null),A=Math.ceil(y/10);return(0,h.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen text-gray-800",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,h.jsx)("h2",{className:"text-2xl font-bold",children:"Vendor Management"}),(0,h.jsxs)("button",{onClick:()=>{if(!e.length)return;const s=o.Wp.json_to_sheet(e.map((e,s)=>({SR_No:10*(g-1)+s+1,Name:e.name,Email:e.email,Phone:e.phone,Status:e.status}))),t=o.Wp.book_new();o.Wp.book_append_sheet(t,s,"Vendors"),o._h(t,"vendors.xlsx")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center gap-2 hover:bg-blue-700",children:[(0,h.jsx)(c.A,{size:16})," Export Report"]})]}),(0,h.jsxs)("div",{className:"mb-4 flex gap-2 flex-wrap bg-white shadow-sm p-4 rounded-lg",children:[(0,h.jsx)("input",{type:"text",placeholder:"Search by name, email or phone",value:p,onChange:e=>u(e.target.value),className:"px-4 py-2 border rounded-lg flex-1 focus:ring focus:ring-blue-200"}),(0,h.jsx)("button",{onClick:()=>{j(1),w()},className:"px-4 py-2 bg-[#FF6A00] text-white rounded-lg hover:bg-orange-500",children:"Search"}),(0,h.jsxs)("select",{value:m,onChange:e=>{b(e.target.value),j(1)},className:"px-4 py-2 border rounded-lg",children:[(0,h.jsx)("option",{value:"all",children:"All"}),(0,h.jsx)("option",{value:"approved",children:"Approved"}),(0,h.jsx)("option",{value:"pending",children:"Pending"}),(0,h.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,h.jsx)("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:(0,h.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,h.jsx)("thead",{className:"bg-gray-100 text-gray-700",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{className:"px-4 py-3 border",children:"SR."}),(0,h.jsx)("th",{className:"px-4 py-3 border",children:"Name"}),(0,h.jsx)("th",{className:"px-4 py-3 border",children:"Email"}),(0,h.jsx)("th",{className:"px-4 py-3 border",children:"Phone"}),(0,h.jsx)("th",{className:"px-4 py-3 border",children:"Status"}),(0,h.jsx)("th",{className:"px-4 py-3 border",children:"Actions"})]})}),(0,h.jsx)("tbody",{children:t?(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:6,className:"text-center py-6",children:"Loading vendors..."})}):0===e.length?(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:6,className:"text-center py-6",children:"No matching vendors"})}):e.map((e,s)=>(0,h.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,h.jsx)("td",{className:"px-4 py-3 border",children:10*(g-1)+s+1}),(0,h.jsx)("td",{className:"px-4 py-3 border font-medium",children:e.name}),(0,h.jsx)("td",{className:"px-4 py-3 border",children:e.email}),(0,h.jsx)("td",{className:"px-4 py-3 border",children:e.phone}),(0,h.jsx)("td",{className:"px-4 py-3 border",children:(0,h.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("approved"===e.status?"bg-green-100 text-green-700":"pending"===e.status?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:e.status})}),(0,h.jsxs)("td",{className:"px-4 py-3 border flex gap-2",children:[(0,h.jsx)(l.N_,{to:"/admin/vendors/".concat(e.id),className:"text-blue-500 hover:text-blue-700",children:"View"}),(0,h.jsxs)("button",{onClick:()=>f(e),className:"text-green-500 hover:text-green-700 flex items-center gap-1",children:[(0,h.jsx)(d.A,{size:16}),"Edit"]})]})]},e.id))})]})}),A>1&&(0,h.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,h.jsx)("button",{onClick:()=>j(e=>Math.max(e-1,1)),disabled:1===g,className:"px-3 py-1 border rounded hover:bg-gray-100 disabled:opacity-50",children:"Prev"}),(()=>{const e=[];let s=Math.max(1,g-2),t=Math.min(A,s+5-1);t-s<4&&(s=Math.max(1,t-5+1)),s>1&&(e.push((0,h.jsx)("button",{onClick:()=>j(1),className:"px-3 py-1 border rounded ".concat(1===g?"bg-blue-600 text-white":""),children:"1"},1)),e.push((0,h.jsx)("span",{children:"..."},"dots1")));for(let a=s;a<=t;a++)e.push((0,h.jsx)("button",{onClick:()=>j(a),className:"px-3 py-1 border rounded ".concat(g===a?"bg-blue-600 text-white":""),children:a},a));return t<A&&(e.push((0,h.jsx)("span",{children:"..."},"dots2")),e.push((0,h.jsx)("button",{onClick:()=>j(A),className:"px-3 py-1 border rounded ".concat(g===A?"bg-blue-600 text-white":""),children:A},A))),e})(),(0,h.jsx)("button",{onClick:()=>j(e=>Math.min(e+1,A)),disabled:g===A,className:"px-3 py-1 border rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]}),N&&(0,h.jsx)("div",{className:"fixed inset-0 bg-black/40 flex justify-center items-center z-50",children:(0,h.jsxs)("div",{className:"bg-white rounded-lg p-6 w-80 relative",children:[(0,h.jsx)("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800",onClick:k,children:"\u2715"}),(0,h.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Update Vendor Status"}),(0,h.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,h.jsxs)("select",{name:"status",value:N.status,onChange:e=>{f(s=>(0,a.A)((0,a.A)({},s),{},{status:e.target.value}))},className:"px-3 py-2 border rounded",children:[(0,h.jsx)("option",{value:"approved",children:"Approved"}),(0,h.jsx)("option",{value:"pending",children:"Pending"}),(0,h.jsx)("option",{value:"rejected",children:"Rejected"})]}),(0,h.jsx)("button",{onClick:()=>{(async(e,s)=>{try{await n.A.patch("".concat("https://sellaids.com","/api/admin/management/vendor/").concat(e,"/status"),{status:s},{withCredentials:!0}),i.Ay.success("Status updated successfully"),w(),k()}catch(t){console.error(t),i.Ay.error("Error updating status")}})(N.id,N.status)},className:"bg-[#FF6A00] text-white px-4 py-2 rounded hover:bg-orange-500",children:"Save Status"})]})]})})]})}}}]);
//# sourceMappingURL=8640.86d7388c.chunk.js.map