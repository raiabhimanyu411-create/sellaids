"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[6602],{56602(e,l,t){t.r(l),t.d(l,{default:()=>d});var s=t(65043),n=t(79722),a=t(70579);const o=e=>{let{label:l,value:t,color:s="gray"}=e;return(0,a.jsxs)("div",{className:"bg-white p-4 rounded-xl border shadow-sm hover:shadow-md transition",children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:l}),(0,a.jsx)("h2",{className:"text-2xl font-bold ".concat({gray:"text-gray-800",yellow:"text-yellow-700",red:"text-red-700",green:"text-green-700",blue:"text-blue-700"}[s]),children:t})]})},d=()=>{var e,l,t,d,i,r,c,u,m,v,x;const[p,h]=(0,s.useState)("all"),[y,g]=(0,s.useState)(null),[j,b]=(0,s.useState)(!1),[f,N]=(0,s.useState)(null);if((0,s.useEffect)(()=>{(async()=>{try{var e,l;b(!0),N(null);const t=await n.A.get("".concat("https://sellaids.com","/api/admin/management/payment-commission"),{params:{vendorId:p},withCredentials:!0});g(null!==(e=null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.data)&&void 0!==e?e:null)}catch(t){N("Failed to load payment & commission data")}finally{b(!1)}})()},[p]),j)return(0,a.jsx)("div",{className:"p-6 flex items-center justify-center min-h-screen text-gray-500",children:"Loading payment & commission data..."});if(f)return(0,a.jsx)("div",{className:"p-6 flex items-center justify-center min-h-screen text-red-500",children:f});const w=null!==(e=null===y||void 0===y?void 0:y.stats)&&void 0!==e?e:{},A=null!==(l=null===y||void 0===y?void 0:y.vendors)&&void 0!==l?l:[],S=null!==(t=null===y||void 0===y?void 0:y.payments)&&void 0!==t?t:[];return(0,a.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-5",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"Payment & Commission"}),(0,a.jsxs)("select",{value:p,onChange:e=>h(e.target.value),className:"border p-2 rounded w-full sm:w-auto",children:[(0,a.jsx)("option",{value:"all",children:"All Vendors"}),null===A||void 0===A?void 0:A.map(e=>(0,a.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id))]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4",children:[(0,a.jsx)(o,{label:"Total Orders",value:null!==(d=null===w||void 0===w?void 0:w.totalOrders)&&void 0!==d?d:0}),(0,a.jsx)(o,{label:"Total Amount",value:"\u20b9".concat(null!==(i=null===w||void 0===w?void 0:w.totalAmount)&&void 0!==i?i:0)}),(0,a.jsx)(o,{label:"Admin Commission (Success)",value:"\u20b9".concat(null!==(r=null===w||void 0===w?void 0:w.adminCommission)&&void 0!==r?r:0),color:"green"}),(0,a.jsx)(o,{label:"Vendor Payout (Success)",value:"\u20b9".concat(null!==(c=null===w||void 0===w?void 0:w.vendorPayout)&&void 0!==c?c:0),color:"blue"}),(0,a.jsx)(o,{label:"Total Pending Amount",value:"\u20b9".concat(null!==(u=null===w||void 0===w?void 0:w.totalPendingAmount)&&void 0!==u?u:0),color:"yellow"}),(0,a.jsx)(o,{label:"Total Failed Amount",value:"\u20b9".concat(null!==(m=null===w||void 0===w?void 0:w.totalFailedAmount)&&void 0!==m?m:0),color:"red"}),(0,a.jsx)(o,{label:"Total Admin Revenue",value:"\u20b9".concat(null!==(v=null===w||void 0===w?void 0:w.totalAdminRevenue)&&void 0!==v?v:0)}),(0,a.jsx)(o,{label:"Operational Fees",value:"\u20b9".concat(null!==(x=null===w||void 0===w?void 0:w.operationalFees)&&void 0!==x?x:0)})]}),(0,a.jsx)("div",{className:"bg-white mt-6 rounded-xl border shadow-sm overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-gray-50 text-gray-600 uppercase text-xs",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-5 py-4 text-left",children:"Sr No"}),(0,a.jsx)("th",{className:"px-5 py-4 text-left",children:"Order"}),(0,a.jsx)("th",{className:"px-5 py-4 text-left",children:"Amount"}),(0,a.jsx)("th",{className:"px-5 py-4 text-left text-green-700",children:"Admin Commission"}),(0,a.jsx)("th",{className:"px-5 py-4 text-left text-blue-700",children:"Vendor Payout"}),(0,a.jsx)("th",{className:"px-5 py-4 text-left",children:"Status"}),(0,a.jsx)("th",{className:"px-5 py-4 text-left",children:"Date"})]})}),(0,a.jsx)("tbody",{children:0===(null===S||void 0===S?void 0:S.length)?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"7",className:"px-6 py-10 text-center text-gray-500",children:"No payments found"})}):null===S||void 0===S?void 0:S.map((e,l)=>{var t,s;return(0,a.jsxs)("tr",{className:"border-t hover:bg-gray-50 transition ".concat(l%2===0?"bg-white":"bg-gray-50/40"),children:[(0,a.jsx)("td",{className:"px-5 py-4 font-medium",children:l+1}),(0,a.jsx)("td",{className:"px-5 py-4",children:null===e||void 0===e?void 0:e.order_id}),(0,a.jsxs)("td",{className:"px-5 py-4 font-semibold",children:["\u20b9",null===e||void 0===e?void 0:e.amount]}),(0,a.jsxs)("td",{className:"px-5 py-4 text-green-700",children:["\u20b9","success"===(null===e||void 0===e?void 0:e.payment_status)&&null!==(t=null===e||void 0===e?void 0:e.admin_commission)&&void 0!==t?t:0]}),(0,a.jsxs)("td",{className:"px-5 py-4 text-blue-700",children:["\u20b9","success"===(null===e||void 0===e?void 0:e.payment_status)&&null!==(s=null===e||void 0===e?void 0:e.vendor_earning)&&void 0!==s?s:0]}),(0,a.jsx)("td",{className:"px-5 py-4",children:(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium\n                        ".concat("success"===(null===e||void 0===e?void 0:e.payment_status)?"bg-green-100 text-green-700":"failed"===(null===e||void 0===e?void 0:e.payment_status)?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:null===e||void 0===e?void 0:e.payment_status})}),(0,a.jsx)("td",{className:"px-5 py-4",children:null!==e&&void 0!==e&&e.payment_date?new Date(e.payment_date).toLocaleDateString("en-GB").replace(/\//g,"-"):"-"})]},null===e||void 0===e?void 0:e.id)})})]})})]})}}}]);
//# sourceMappingURL=6602.a6b3af6a.chunk.js.map