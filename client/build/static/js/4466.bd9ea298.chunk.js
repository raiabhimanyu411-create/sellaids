"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4466],{34466(e,a,t){t.r(a),t.d(a,{default:()=>m});var l=t(89379),s=t(65043),o=t(79722),i=t(23768),n=t(70579);const r="https://sellaids.com",d=[{value:"new",label:"New"},{value:"almost_new",label:"Almost New"},{value:"good",label:"Good"},{value:"hardly_ever_used",label:"Hardly Ever Used"},{value:"satisfactory",label:"Satisfactory"}],c=e=>{let{field:a,value:t,onChange:l,error:o,disabled:i}=e;const[r,c]=(0,s.useState)(!1),[m,p]=(0,s.useState)(""),[u,h]=(0,s.useState)(a.options||[]),x=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(m&&Array.isArray(a.options)){const e=a.options.filter(e=>e.name?e.name.toLowerCase().includes(m.toLowerCase()):e.toString().toLowerCase().includes(m.toLowerCase()));h(e)}else h(a.options||[])},[m,a.options]),(0,s.useEffect)(()=>{const e=e=>{x.current&&!x.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const g=()=>c(!r);var f;return"select"===a.type&&["product_group","fit","size","product_condition","productCategory","product_type","invoice","needs_repair","original_box","dust_bag"].includes(a.name)?(0,n.jsxs)("div",{className:"flex flex-col",ref:x,children:[(0,n.jsx)("label",{className:"text-gray-700 font-medium mb-1","data-field":a.name,children:a.label}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"border rounded px-2 py-1 cursor-pointer focus:outline-none focus:ring-2 focus:ring-orange-400 ".concat(i?"bg-gray-100 cursor-not-allowed":""),onClick:i?null:g,children:"product_condition"===a.name?(null===(f=d.find(e=>e.value===t))||void 0===f?void 0:f.label)||"Select Condition":t||"Select ".concat(a.label)}),r&&!i&&(0,n.jsxs)("div",{className:"absolute z-10 w-full bg-white border rounded-b mt-1 max-h-40 overflow-y-auto",children:[(0,n.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),placeholder:"Search ".concat(a.label,"..."),className:"border-b px-2 py-1 w-full focus:outline-none",onClick:e=>e.stopPropagation()}),u.length>0?u.map((e,t)=>{var s;return(0,n.jsx)("div",{onClick:()=>{return t=e,"product_condition"===a.name?l({target:{name:a.name,value:t}}):"productCategory"===a.name?l({target:{name:a.name,value:t.name}}):l({target:{name:a.name,value:t}}),p(""),void c(!1);var t},className:"px-2 py-1 hover:bg-gray-100 cursor-pointer",children:"product_condition"===a.name?null===(s=d.find(a=>a.value===e))||void 0===s?void 0:s.label:"productCategory"===a.name?e.name:e},t)}):(0,n.jsx)("div",{className:"px-2 py-1 text-gray-500",children:"No options found"})]})]}),o&&(0,n.jsx)("span",{className:"text-red-500 text-xs mt-1",children:o})]}):"file"===a.type?(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("label",{className:"text-gray-700 font-medium mb-1","data-field":a.name,children:a.label}),(0,n.jsx)("input",{type:"file",name:a.name,onChange:l,multiple:a.multiple,className:"border rounded px-2 py-1",disabled:i,accept:a.accept||"*/*"}),o&&(0,n.jsx)("span",{className:"text-red-500 text-xs mt-1",children:o})]}):"checkbox"===a.type?(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("input",{type:"checkbox",name:a.name,checked:t,onChange:l,disabled:i}),(0,n.jsx)("label",{className:"text-gray-700 text-sm","data-field":a.name,children:a.label}),o&&(0,n.jsx)("span",{className:"text-red-500 text-xs mt-1",children:o})]}):"textarea"===a.type?(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("label",{className:"text-gray-700 font-medium mb-1","data-field":a.name,children:a.label}),(0,n.jsx)("textarea",{name:a.name,value:t,onChange:l,placeholder:a.placeholder||"",className:"border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-orange-400",rows:"4"}),o&&(0,n.jsx)("span",{className:"text-red-500 text-xs mt-1",children:o})]}):(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("label",{className:"text-gray-700 font-medium mb-1","data-field":a.name,children:a.label}),(0,n.jsx)("input",{type:a.type||"text",name:a.name,value:t,onChange:l,className:"border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-orange-400",disabled:i}),o&&(0,n.jsx)("span",{className:"text-red-500 text-xs mt-1",children:o})]})},m=()=>{const[e,a]=(0,s.useState)(0),[t,m]=(0,s.useState)(!1),p={product_group:"",productCategory:"",category_id:"",product_type:"",product_condition:"",fit:"",size:"",other_size:"",product_color:"",brand:"",model_name:"",invoice:"No",invoice_photo:null,needs_repair:"No",repair_photo:null,original_box:"No",dust_bag:"No",additional_items:"",front_photo:null,back_photo:null,label_photo:null,inside_photo:null,button_photo:null,wearing_photo:null,more_images:[],purchase_price:"",selling_price:"",reason_to_sell:"",purchase_year:"",purchase_place:"",product_link:"",additional_info:{title:"",fabric:"",model_size:"",info:"",description:""},agree:!1},[u,h]=(0,s.useState)(p),[x,g]=(0,s.useState)({}),[f,b]=(0,s.useState)([]),[y,_]=(0,s.useState)([]),[v,j]=(0,s.useState)(null),[N,w]=(0,s.useState)(!1),[C,P]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{if(u.product_group){w(!0);try{const e=new URLSearchParams;e.append("group",u.product_group);const a=await o.A.get("".concat(r,"/api/product/categories-list?").concat(e.toString()),{withCredentials:!0});a.data.success?b(a.data.data||[]):(j("Failed to load categories"),b([]))}catch(e){j("Failed to load categories"),b([]),i.oR.error("Could not load categories for this group")}finally{w(!1)}}else b([])})()},[u.product_group]),(0,s.useEffect)(()=>{(async()=>{if(!u.category_id)return _([]);P(!0);try{const e=await o.A.get("".concat(r,"/api/product?category_id=").concat(u.category_id),{withCredentials:!0});e.data.success?_(e.data.data.map(e=>e.name||e.type_name||"")):j("Failed to load types")}catch(e){j("Failed to load types: "+(e.message||""))}finally{P(!1)}})()},[u.category_id]);const S=e=>{const{name:a,value:t,type:s,checked:o,files:i}=e.target||e;if(a.startsWith("additional_info.")){const e=a.split(".")[1];return void h(a=>(0,l.A)((0,l.A)({},a),{},{additional_info:(0,l.A)((0,l.A)({},a.additional_info),{},{[e]:t})}))}if("file"===s)h(e=>(0,l.A)((0,l.A)({},e),{},{[a]:"more_images"===a?Array.from(i):i[0]}));else if("checkbox"===s)h(e=>(0,l.A)((0,l.A)({},e),{},{[a]:o}));else if("productCategory"===a){const e=f.find(e=>e.name===t);h(a=>(0,l.A)((0,l.A)({},a),{},{productCategory:t,category_id:e?e.id:"",product_type:""}))}else h("size"===a&&"Other"===t?e=>(0,l.A)((0,l.A)({},e),{},{size:t}):"size"===a&&"Other"!==t?e=>(0,l.A)((0,l.A)({},e),{},{size:t,other_size:""}):e=>(0,l.A)((0,l.A)({},e),{},{[a]:t}));x[a]&&g(e=>(0,l.A)((0,l.A)({},e),{},{[a]:void 0}))},z=()=>{var a;const t={},l={1:["product_group","productCategory","product_type","product_condition","brand"],2:["invoice","needs_repair","original_box","dust_bag"],3:["front_photo","back_photo","label_photo","inside_photo","button_photo"],4:["purchase_price","selling_price","purchase_year","agree"]};return l[e]&&l[e].forEach(e=>{if(!u[e]||"agree"===e&&!u.agree){var a;const l=(null===(a=document.querySelector('[data-field="'.concat(e,'"]')))||void 0===a?void 0:a.textContent)||e;t[e]="".concat(l.replace("*","").trim()," is required")}}),2!==e||"Yes"!==u.invoice||u.invoice_photo||(t.invoice_photo="Invoice photo is required"),2!==e||"Yes"!==u.needs_repair||u.repair_photo||(t.repair_photo="Repair photo is required"),"Other"!==u.size||null!==(a=u.other_size)&&void 0!==a&&a.trim()||(t.other_size="Custom size is required"),g(t),0===Object.keys(t).length},A=["Guidelines","Product","Condition","Image","Price"];return(0,n.jsx)("div",{className:"min-h-screen py-6",children:(0,n.jsxs)("div",{className:"w-full max-w-3xl mx-auto bg-white shadow-xl rounded-2xl p-4 sm:p-6",children:[v&&(0,n.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm border-l-4 border-red-500",children:v}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-center text-gray-800 mb-4",children:"Add New Product"}),(0,n.jsxs)("div",{className:"hidden sm:block relative",children:[(0,n.jsx)("div",{className:"flex justify-between items-center",children:A.map((a,t)=>(0,n.jsxs)("div",{className:"flex-1 text-center relative z-10",children:[(0,n.jsx)("div",{className:"w-10 h-10 mx-auto rounded-full flex items-center justify-center text-sm font-semibold ".concat(e>t?"bg-orange-600 text-white":e===t?"bg-orange-400 text-white":"bg-gray-200 text-gray-600"," transition duration-200"),children:t+1}),(0,n.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:a})]},t))}),(0,n.jsx)("div",{className:"absolute top-5 left-0 w-full h-1 bg-gray-200 z-0",children:A.map((a,t)=>t<e-1&&(0,n.jsx)("div",{className:"absolute h-1 bg-orange-600",style:{width:"".concat(100/(A.length-1),"%"),left:"".concat(100/(A.length-1)*t,"%"),top:0}},t))})]})]}),(0,n.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.oR.dismiss(),!z()){const e=Object.keys(x).length>0?Object.values(x)[0]:"Please fill all required fields.";return void i.oR.error(e)}m(!0),j(null);try{const e=new FormData;Object.entries(u).forEach(a=>{let[t,l]=a;"additional_info"!==t?"more_images"===t&&Array.isArray(l)?l.forEach(a=>a&&e.append("more_images",a)):l instanceof File?e.append(t,l):"productCategory"!==t&&"agree"!==t&&null!==l&&""!==l&&("other_size"!==t&&e.append(t,l),"other_size"===t&&"Other"===u.size&&e.append("size_other",l.trim())):e.append("additional_info",JSON.stringify(l))});const t=await o.A.post("".concat(r,"/api/product/add"),e,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});t.data.success?(i.oR.success("Product added successfully!"),h(p),a(0),g({})):i.oR.error(t.data.message||"Failed to add product")}catch(s){var t,l;const e=(null===(t=s.response)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.message)||s.message||"Submission failed";i.oR.error(e),j(e)}finally{m(!1)}},className:"space-y-6",children:[0===e&&(0,n.jsx)("div",{className:"col-span-full",children:(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("h4",{className:"text-md font-semibold text-gray-700",children:"Seller Guidelines \u2013 Please Review Before Pickup"}),(0,n.jsxs)("ul",{className:"list-disc pl-5 text-sm text-gray-600 mt-2 space-y-1",children:[(0,n.jsx)("li",{children:"Do not use the item after listing. It must remain in the same condition as shown in the photos."}),(0,n.jsxs)("li",{children:["Please accurately select the product condition based on Sellaids classification:",(0,n.jsxs)("ul",{className:"list-disc pl-5 mt-1",children:[(0,n.jsx)("li",{children:"New \u2013 Unused, in original packaging/New: Up to 50% below MRP"}),(0,n.jsx)("li",{children:"Almost New \u2013 Minimal signs of use, excellent condition/Almost New: 50\u201360% below MRP"}),(0,n.jsx)("li",{children:"Hardly Ever Used \u2013 Very lightly used, no visible wear or tear/Hardly Ever Used: 60\u201370% below MRP"}),(0,n.jsx)("li",{children:"Good \u2013 Normal wear, fully functional/Good: More than 70% below MRP"}),(0,n.jsx)("li",{children:"Satisfactory \u2013 Heavily used, noticeable wear, but still functional/Satisfactory: More than 70% below MRP"})]})]}),(0,n.jsx)("li",{children:"Upload clear, high-quality images (max 2 MB each)."}),(0,n.jsx)("li",{children:"Listings may take up to 7 days to go live to ensure optimal pricing."}),(0,n.jsx)("li",{children:"Pickup will occur within 48 hours of sale."}),(0,n.jsx)("li",{children:"Ensure the product is clean, washed, ironed, or dry-cleaned."}),(0,n.jsx)("li",{children:"Package the item securely and label it with: SellAids' address as the recipient and your address as the sender."}),(0,n.jsx)("li",{children:"Only genuine and authentic products are accepted. No counterfeits or replicas."})]})]})}),1===e&&(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,n.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 col-span-full",children:"Product"}),[{name:"product_group",label:"Group *",type:"select",options:["","Men","Women","Girl","Boy"]},{name:"productCategory",label:"Product Category *",type:"select",options:N?[{name:"Loading..."}]:f},{name:"product_type",label:"Product Type *",type:"select",options:C?["Loading..."]:y},{name:"product_condition",label:"Product Condition *",type:"select",options:d.map(e=>e.value),labelsMap:d},{name:"fit",label:"Fit(Only For Men Apparel)",type:"select",options:["","Slim","Regular","Loose","Oversized","Tailored","Modern","Fitted","Other"]},{name:"size",label:"Size *",type:"select",options:["","XS","S","M","L","XL","XXL","XXXL","4xl","5xl","6xl","Kids-Upto 3 Months","Kids-Upto 6 Months","Kids- 6-9 Months","Kids- 9-12 Months","Kids- 1-2 Years","Kids- 3-4 Years","Kids- 5-6 Years","Kids- 7-8 Years","Kids- 9-10 Years","Kids- 10-12 Years","Kids- 13-14 Years","K 15-16 Years","Kids- 17-18 Years","Other"]},{name:"product_color",label:"Product Color",type:"text"},{name:"brand",label:"Brand *",type:"text"},{name:"model_name",label:"Model Name ",type:"text"}].map(e=>(0,n.jsx)(s.Fragment,{children:"size"===e.name?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c,{field:e,value:u.size,onChange:S,error:x.size}),"Other"===u.size&&(0,n.jsxs)("div",{className:"sm:col-span-2",children:[(0,n.jsx)("label",{className:"text-gray-700 font-medium mb-1","data-field":"other_size",children:"Other Size *"}),(0,n.jsx)("input",{type:"text",name:"other_size",placeholder:"Enter custom size (e.g. 28W x 32L)",value:u.other_size||"",onChange:S,className:"w-full border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-orange-400"}),x.other_size&&(0,n.jsx)("span",{className:"text-red-500 text-xs mt-1",children:x.other_size})]})]}):(0,n.jsx)(c,{field:e,value:u[e.name],onChange:S,error:x[e.name],disabled:"product_type"===e.name&&!u.productCategory})},e.name)),(0,n.jsx)(c,{field:{name:"additional_info.title",label:"Title"},value:u.additional_info.title,onChange:S}),(0,n.jsx)(c,{field:{name:"additional_info.fabric",label:"Fabric"},value:u.additional_info.fabric,onChange:S}),(0,n.jsx)(c,{field:{name:"additional_info.model_size",label:"Model Size"},value:u.additional_info.model_size,onChange:S})]}),2===e&&(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,n.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 col-span-full",children:"Condition"}),[{name:"invoice",label:"Do You Have Invoice? *",type:"select",options:["No","Yes"]},{name:"invoice_photo",label:"Upload Invoice Photo",type:"file",accept:"image/*",disabled:"Yes"!==u.invoice},{name:"needs_repair",label:"Your Product Needs Repair? *",type:"select",options:["No","Yes"]},{name:"repair_photo",label:"Repair Photo",type:"file",accept:"image/*",disabled:"Yes"!==u.needs_repair},{name:"original_box",label:"Do You Have The Original Box? *",type:"select",options:["No","Yes"]},{name:"dust_bag",label:"Do You Have The Dust Bag? *",type:"select",options:["No","Yes"]},{name:"additional_items",label:"Any Additional Items?",type:"textarea"}].map(e=>(0,n.jsx)(c,{field:e,value:u[e.name],onChange:S,error:x[e.name],disabled:e.disabled},e.name)),"Yes"===u.needs_repair&&(0,n.jsx)("p",{className:"text-gray-600 text-sm col-span-full",children:"Charges on repair will be extra"})]}),3===e&&(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,n.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 col-span-full",children:"Image"}),[{name:"front_photo",label:"Front Photo *",type:"file",accept:"image/*"},{name:"back_photo",label:"Back Photo *",type:"file",accept:"image/*"},{name:"label_photo",label:"Label/Logo Photo *",type:"file",accept:"image/*"},{name:"inside_photo",label:"Inside/Close Up Material Image *",type:"file",accept:"image/*"},{name:"button_photo",label:"Button/Studs/Zips/Work Image *",type:"file",accept:"image/*"},{name:"wearing_photo",label:"Image Of Wearing and Carrying ",type:"file",accept:"image/*"},{name:"more_images",label:"Upload More Images",type:"file",multiple:!0,accept:"image/*"}].map(e=>(0,n.jsx)(c,{field:e,value:u[e.name],onChange:S,error:x[e.name]},e.name))]}),4===e&&(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,n.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 col-span-full",children:"Price"}),[{name:"purchase_price",label:"Purchase Price (INR) *",type:"number"},{name:"selling_price",label:"Selling Price (INR) *",type:"number"},{name:"reason_to_sell",label:"Reason To Sell *",type:"text"},{name:"purchase_year",label:"Purchase Year *",type:"number"},{name:"purchase_place",label:"Purchase Place *",type:"text"},{name:"product_link",label:"Product Reference Link ",type:"url"}].map(e=>(0,n.jsx)(c,{field:e,value:u[e.name],onChange:S,error:x[e.name]},e.name)),(0,n.jsx)("div",{className:"col-span-full",children:(0,n.jsxs)("div",{className:"col-span-full",children:[(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(c,{field:{name:"additional_info.description",label:"Product Description",type:"textarea"},value:u.additional_info.description,onChange:S})}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(c,{field:{name:"additional_info.info",label:"Additional Info",type:"textarea"},value:u.additional_info.info,onChange:S})})]})}),(0,n.jsxs)("div",{className:"col-span-full mt-6 p-4 bg-gray-50 rounded-lg border",children:[(0,n.jsxs)("label",{className:"flex flex-col sm:flex-row items-start gap-3 cursor-pointer",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0",children:[(0,n.jsx)("input",{type:"checkbox",name:"agree",checked:u.agree,onChange:S,className:"w-5 h-5 text-orange-600 rounded focus:ring-orange-500"}),(0,n.jsx)("span",{className:"font-semibold text-gray-800",children:"I agree to the terms *"})]}),(0,n.jsx)("span",{className:"text-sm text-gray-600 leading-relaxed",children:"By submitting this form, I agree to abide by our policies, terms and conditions, and seller declaration guidelines."})]}),x.agree&&(0,n.jsx)("p",{className:"text-red-500 text-xs mt-2",children:x.agree})]})]}),(0,n.jsx)("div",{className:"mt-8 pt-6 border-t",children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6 justify-between items-center",children:[e>0&&(0,n.jsx)("button",{type:"button",onClick:()=>{a(e-1),g({})},disabled:t,className:"w-full sm:w-auto px-8 py-3 bg-gray-300 hover:bg-gray-400 text-gray-800 font-medium rounded-lg transition disabled:opacity-50 order-2 sm:order-1",children:"Back"}),(0,n.jsx)("div",{className:"w-full sm:w-auto order-1 sm:order-2",children:e<A.length-1?(0,n.jsx)("button",{type:"button",onClick:()=>{if(z())a(e+1),g({});else{const e=Object.values(x)[0];i.oR.error(e||"Please fill all required fields.")}},disabled:t,className:"w-full px-10 py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition disabled:opacity-50",children:"Next"}):(0,n.jsx)("button",{type:"submit",disabled:t,className:"w-full px-10 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition disabled:opacity-50 shadow-lg",children:t?"Submitting...":"Submit Product"})})]})})]})]})})}}}]);
//# sourceMappingURL=4466.bd9ea298.chunk.js.map