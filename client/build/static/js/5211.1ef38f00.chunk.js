/*! For license information please see 5211.1ef38f00.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5211],{55211(e,t,s){s.r(t),s.d(t,{default:()=>o});var r=s(65043),a=s(79722),l=s(24974),d=s(47874),n=s(81035),c=s(70579);const o=()=>{const{user:e,isAuthenticated:t}=(0,l.k)(),s=(0,d.Zp)(),[o,i]=(0,r.useState)([]),[x,m]=(0,r.useState)([]),[h,p]=(0,r.useState)(!0),[g,u]=(0,r.useState)(null),[y,j]=(0,r.useState)(""),[b,f]=(0,r.useState)(1),[N,v]=(0,r.useState)(1),[w,k]=(0,r.useState)(0);(0,r.useEffect)(()=>{t&&null!==e&&void 0!==e&&e.id?_():s("/UserAuth/UserLogin")},[t,e,s,b]);const _=async()=>{try{p(!0),u(null);const e="".concat("https://sellaids.com","/api/user/order/list?page=").concat(b,"&limit=").concat(4),t=await a.A.get(e,{withCredentials:!0}),s=t.data.data.orders||[];i(s),m(s),v(t.data.data.totalPages||1),k(t.data.data.totalItems||0)}catch(d){var e,t,r,l;if(401===(null===(e=d.response)||void 0===e?void 0:e.status))s("/UserAuth/UserLogin");else u((null===(t=d.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to fetch orders"),console.error("Failed to fetch orders:",(null===(l=d.response)||void 0===l?void 0:l.data)||d.message),i([]),m([]),v(1),k(0)}finally{p(!1)}},C=()=>{if(!y.trim())return void m(o);const e=o.filter(e=>e.productName.toLowerCase().includes(y.toLowerCase()));m(e)},S=e=>{e>=1&&e<=N&&f(e)},A=y&&0===x.length;return(0,c.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ",children:[(0,c.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-6",children:"My Orders"}),g&&(0,c.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:g}),h?(0,c.jsxs)("div",{className:"bg-white shadow-sm rounded-lg p-12 text-center text-gray-500",children:[(0,c.jsx)("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-b-2 border-red-600"}),(0,c.jsx)("p",{className:"mt-4 text-lg",children:"Loading your orders..."})]}):(0,c.jsxs)("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:[(0,c.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:(0,c.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,c.jsx)("input",{type:"text",placeholder:"Search by product name...",value:y,onChange:e=>j(e.target.value),onKeyPress:e=>"Enter"===e.key&&C(),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition text-base"}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)("button",{onClick:C,className:"px-6 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition whitespace-nowrap",children:"Search"}),y&&(0,c.jsx)("button",{onClick:()=>{j(""),m(o)},className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition whitespace-nowrap",children:"Clear"})]})]}),y&&(0,c.jsxs)("p",{className:"text-sm text-gray-600",children:["Searched for: ",(0,c.jsxs)("span",{className:"font-medium",children:['"',y,'"']})]})]})}),(0,c.jsxs)("div",{className:"overflow-x-auto",children:[(0,c.jsx)("div",{className:"hidden lg:block",children:(0,c.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,c.jsx)("thead",{className:"bg-gray-50",children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Sr. No."}),(0,c.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Product Name"}),(0,c.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Price"}),(0,c.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Qty"}),(0,c.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),(0,c.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),(0,c.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Image"})]})}),(0,c.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:x.length>0?x.map((e,t)=>{const s=4*(b-1)+t+1;return(0,c.jsxs)("tr",{className:"hover:bg-gray-50 transition",children:[(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s}),(0,c.jsx)("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-xs",children:(0,c.jsx)("div",{className:"truncate",title:e.productName,children:e.productName})}),(0,c.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:["\u20b9",e.price||"N/A"]}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:e.quantity||"1"}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,c.jsx)("span",{className:"inline-flex px-3 py-1 rounded-full text-xs font-semibold ".concat("Delivered"===e.order_status?"bg-green-100 text-green-800":"Cancelled"===e.order_status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.order_status})}),(0,c.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.order_date}),(0,c.jsx)("td",{className:"px-6 py-4 text-center",children:e.front_photo?(0,c.jsx)("a",{href:"".concat("https://sellaids.com","/").concat(e.front_photo),target:"_blank",rel:"noopener noreferrer",children:(0,c.jsx)("img",{src:"".concat("https://sellaids.com","/").concat(e.front_photo),alt:e.productName,className:"h-16 w-16 object-cover object-center rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition"})}):(0,c.jsx)("span",{className:"text-gray-400 text-xs",children:"\u2014"})})]},e.id)}):(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:"7",className:"px-6 py-16 text-center text-gray-500 text-lg",children:A?'No orders found matching "'.concat(y,'"'):"Your order list is empty."})})})]})}),(0,c.jsx)("div",{className:"lg:hidden",children:x.length>0?x.map((e,t)=>{const s=4*(b-1)+t+1;return(0,c.jsxs)("div",{className:"border-b border-gray-200 p-4 hover:bg-gray-50 transition",children:[(0,c.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:["#",s]}),(0,c.jsx)("p",{className:"text-lg font-medium text-gray-800 mt-1",children:e.productName})]}),e.front_photo&&(0,c.jsx)("a",{href:"".concat("https://sellaids.com","/").concat(e.front_photo),target:"_blank",rel:"noopener noreferrer",children:(0,c.jsx)("img",{src:"".concat("https://sellaids.com","/").concat(e.front_photo),alt:e.productName,className:"h-20 w-20 object-cover object-center rounded-lg border border-gray-200 shadow-sm"})})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-gray-500",children:"Price:"}),(0,c.jsxs)("p",{className:"font-medium",children:["\u20b9",e.price||"N/A"]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-gray-500",children:"Qty:"}),(0,c.jsx)("p",{className:"font-medium",children:e.quantity||"1"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-gray-500",children:"Status:"}),(0,c.jsx)("p",{children:(0,c.jsx)("span",{className:"inline-flex px-3 py-1 rounded-full text-xs font-semibold mt-1 ".concat("Delivered"===e.order_status?"bg-green-100 text-green-800":"Cancelled"===e.order_status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.order_status})})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-gray-500",children:"Date:"}),(0,c.jsx)("p",{className:"font-medium",children:e.order_date})]})]})]},e.id)}):(0,c.jsx)("div",{className:"p-12 text-center text-gray-500",children:(0,c.jsx)("p",{className:"text-lg",children:A?'No orders found matching "'.concat(y,'"'):"Your order list is empty."})})})]}),x.length>0&&(()=>{const e=[];let t=Math.max(1,b-Math.floor(2.5)),s=Math.min(N,t+5-1);s-t+1<5&&(t=Math.max(1,s-5+1));for(let r=t;r<=s;r++)e.push((0,c.jsx)("button",{onClick:()=>S(r),className:"px-3 py-2 mx-1 rounded text-sm font-medium transition-colors ".concat(b===r?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:r},r));return(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center mt-8 mb-8 gap-3 text-sm",children:[(0,c.jsx)("button",{onClick:()=>S(b-1),disabled:1===b,className:"px-5 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Previous"}),(0,c.jsx)("div",{className:"flex flex-wrap justify-center gap-1",children:e}),(0,c.jsx)("button",{onClick:()=>S(b+1),disabled:b===N,className:"px-5 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Next"}),(0,c.jsxs)("span",{className:"text-gray-600 text-center sm:text-left",children:["Page ",(0,c.jsx)("strong",{children:b})," of ",(0,c.jsx)("strong",{children:N})," | Total: ",(0,c.jsx)("strong",{children:w})]})]})})()]}),(0,c.jsx)("div",{className:"mt-8",children:(0,c.jsx)(n.A,{})})]})}},65469(e,t,s){s.d(t,{A:()=>r});const r=(0,s(77784).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},81035(e,t,s){s.d(t,{A:()=>l});s(65043);var r=s(65469),a=s(70579);const l=()=>(0,a.jsx)("div",{className:"mt-4 py-4 border-t border-gray-200 bg-gray-50",children:(0,a.jsx)("div",{className:"max-w-3xl mx-auto text-center",children:(0,a.jsxs)("button",{onClick:()=>{window.location.href="/"},className:"inline-flex items-center gap-2 text-gray-700 hover:text-red-600 font-medium text-lg transition-colors duration-200 group",children:[(0,a.jsx)(r.A,{size:20,className:"mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Website"]})})})}}]);
//# sourceMappingURL=5211.1ef38f00.chunk.js.map