{"version":3,"file":"static/js/4250.b4bb591b.chunk.js","mappings":"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","sources":["pages/Admin/AdminProductEdit.jsx","pages/Admin/Products.js","../node_modules/lucide-react/src/icons/square-pen.ts"],"sourcesContent":["\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst API_URL = import.meta.env.VITE_API_URL || \"http://localhost:5000\";\r\n\r\nconst PRODUCT_CONDITION_OPTIONS = [\r\n  { value: \"new\", label: \"New\" },\r\n  { value: \"almost_new\", label: \"Almost New\" },\r\n  { value: \"good\", label: \"Good\" },\r\n  { value: \"hardly_ever_used\", label: \"Hardly Ever Used\" },\r\n  { value: \"satisfactory\", label: \"Satisfactory\" },\r\n];\r\n\r\n// REUSABLE FormField — EXACT SAME AS AddProductForm.jsx\r\nconst FormField = ({ field, value, onChange, error, disabled, previewUrl }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [filteredOptions, setFilteredOptions] = useState(field.options || []);\r\n  const wrapperRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (searchValue && Array.isArray(field.options)) {\r\n      const filtered = field.options.filter((opt) =>\r\n        opt.name\r\n          ? opt.name.toLowerCase().includes(searchValue.toLowerCase())\r\n          : opt.toString().toLowerCase().includes(searchValue.toLowerCase())\r\n      );\r\n      setFilteredOptions(filtered);\r\n    } else {\r\n      setFilteredOptions(field.options || []);\r\n    }\r\n  }, [searchValue, field.options]);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (wrapperRef.current && !wrapperRef.current.contains(event.target)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  const handleSelect = (selectedValue) => {\r\n    let finalValue = selectedValue;\r\n\r\n    if (field.name === \"productCategory\") {\r\n      finalValue = selectedValue.name || selectedValue;\r\n    } else if (field.name === \"product_condition\") {\r\n      finalValue = selectedValue;\r\n    }\r\n\r\n    onChange({\r\n      target: { name: field.name, value: finalValue },\r\n    });\r\n    setSearchValue(\"\");\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const handleToggle = () => setIsOpen(!isOpen);\r\n\r\n  if (field.type === \"select\") {\r\n    return (\r\n      <div className=\"flex flex-col\" ref={wrapperRef}>\r\n        <label className=\"text-gray-700 font-medium mb-1\" data-field={field.name}>\r\n          {field.label}\r\n        </label>\r\n        <div className=\"relative\">\r\n          <div\r\n            className={`border rounded px-2 py-1 cursor-pointer focus:outline-none focus:ring-2 focus:ring-orange-400 ${disabled ? \"bg-gray-100 cursor-not-allowed\" : \"\"}`}\r\n            onClick={disabled ? null : handleToggle}\r\n          >\r\n            {field.name === \"product_condition\"\r\n              ? PRODUCT_CONDITION_OPTIONS.find((x) => x.value === value)?.label || \"Select Condition\"\r\n              : field.name === \"productCategory\"\r\n                ? value || \"Select Category\"\r\n                : value || `Select ${field.label}`}\r\n          </div>\r\n          {isOpen && !disabled && (\r\n            <div className=\"absolute z-50 w-full bg-white border rounded-b mt-1 max-h-40 overflow-y-auto shadow-lg\">\r\n              <input\r\n                type=\"text\"\r\n                value={searchValue}\r\n                onChange={(e) => setSearchValue(e.target.value)}\r\n                placeholder={`Search ${field.label}...`}\r\n                className=\"border-b px-2 py-1 w-full focus:outline-none sticky top-0 bg-white\"\r\n                onClick={(e) => e.stopPropagation()}\r\n              />\r\n              {filteredOptions.length > 0 ? (\r\n                filteredOptions.map((opt, idx) => (\r\n                  <div\r\n                    key={idx}\r\n                    onClick={() => handleSelect(opt.name ? opt : opt)}\r\n                    className=\"px-2 py-1.5 hover:bg-gray-100 cursor-pointer text-sm\"\r\n                  >\r\n                    {field.name === \"product_condition\"\r\n                      ? PRODUCT_CONDITION_OPTIONS.find((x) => x.value === (opt.name || opt))?.label || opt\r\n                      : opt.name || opt}\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <div className=\"px-2 py-1 text-gray-500\">No options found</div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n        {error && <span className=\"text-red-500 text-xs mt-1\">{error}</span>}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (field.type === \"file\") {\r\n    return (\r\n      <div className=\"flex flex-col space-y-4\">\r\n        <label className=\"text-gray-700 font-medium text-sm md:text-base\">{field.label}</label>\r\n        {previewUrl && (\r\n          <div className=\"mx-auto w-full max-w-xs\">\r\n            <img\r\n              src={previewUrl}\r\n              alt={field.label}\r\n              className=\"w-full h-56 object-cover rounded-xl shadow-lg border border-gray-200\"\r\n              onError={(e) => (e.target.style.display = \"none\")}\r\n            />\r\n          </div>\r\n        )}\r\n        <input\r\n          type=\"file\"\r\n          name={field.name}\r\n          onChange={onChange}\r\n          multiple={field.multiple}\r\n          accept=\"image/*\"\r\n          className=\"block w-full text-sm text-gray-600 file:mr-4 file:py-2.5 file:px-7 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-100 file:text-orange-700 hover:file:bg-orange-200 cursor-pointer\"\r\n          disabled={disabled}\r\n        />\r\n        {error && <span className=\"text-red-500 text-xs\">{error}</span>}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (field.type === \"textarea\") {\r\n    return (\r\n      <div className=\"flex flex-col\">\r\n        <label className=\"text-gray-700 font-medium mb-2 text-sm md:text-base\">{field.label}</label>\r\n        <textarea\r\n          name={field.name}\r\n          value={value || \"\"}\r\n          onChange={onChange}\r\n          rows=\"4\"\r\n          className=\"border rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-orange-400 resize-none\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col\">\r\n      <label className=\"text-gray-700 font-medium mb-2 text-sm md:text-base\">{field.label}</label>\r\n      <input\r\n        type={field.type || \"text\"}\r\n        name={field.name}\r\n        value={value || \"\"}\r\n        onChange={onChange}\r\n        className=\"border rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-orange-400\"\r\n        disabled={disabled}\r\n      />\r\n      {error && <span className=\"text-red-500 text-xs mt-1\">{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AdminProductEdit = ({ product, onClose, onUpdateSuccess }) => {\r\n  const navigate = useNavigate();\r\n  const [step, setStep] = useState(1);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [formData, setFormData] = useState({});\r\n  const [categories, setCategories] = useState([]);\r\n  const [types, setTypes] = useState([]);\r\n  const [imagePreviews, setImagePreviews] = useState({});\r\n  const [isLoadingCategories, setIsLoadingCategories] = useState(false);\r\n\r\n  const handleUnauthorized = () => {\r\n    toast.error(\"Session expired. Please login again.\");\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  // FETCH CATEGORIES on product_group change\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      if (!formData.product_group) {\r\n        setCategories([]);\r\n        return;\r\n      }\r\n      setIsLoadingCategories(true);\r\n      try {\r\n        const params = new URLSearchParams();\r\n        params.append(\"group\", formData.product_group);\r\n        const res = await axios.get(\r\n          `${API_URL}/api/product/categories-list?${params.toString()}`,\r\n          { withCredentials: true }\r\n        );\r\n        if (res.data.success) {\r\n          setCategories(res.data.data || []);\r\n        }\r\n      } catch (err) {\r\n        if (err.response?.status === 401) handleUnauthorized();\r\n        else toast.error(\"Failed to load categories\");\r\n      } finally {\r\n        setIsLoadingCategories(false);\r\n      }\r\n    };\r\n    fetchCategories();\r\n  }, [formData.product_group]);\r\n\r\n  // FETCH TYPES on category_id change\r\n  useEffect(() => {\r\n    const fetchTypes = async () => {\r\n      if (!formData.category_id) {\r\n        setTypes([]);\r\n        return;\r\n      }\r\n      try {\r\n        const res = await axios.get(`${API_URL}/api/product?category_id=${formData.category_id}`, {\r\n          withCredentials: true,\r\n        });\r\n        if (res.data.success) {\r\n          setTypes(res.data.data.map((t) => t.name || t.type_name || \"\"));\r\n        }\r\n      } catch (err) {\r\n        if (err.response?.status === 401) handleUnauthorized();\r\n      }\r\n    };\r\n    fetchTypes();\r\n  }, [formData.category_id]);\r\n\r\n  // Initialize form data\r\n  useEffect(() => {\r\n    if (!product) return;\r\n\r\n    let parsedAdditional = {\r\n      title: \"\",\r\n      fabric: \"\",\r\n      model_size: \"\",\r\n      info: \"\",\r\n      description: \"\",\r\n    };\r\n\r\n    try {\r\n      parsedAdditional = product.additional_info\r\n        ? JSON.parse(product.additional_info)\r\n        : parsedAdditional;\r\n    } catch (e) {\r\n      console.error(\"Invalid additional_info JSON\");\r\n    }\r\n\r\n    const initialData = {\r\n      product_group: product.product_group || \"\",\r\n      productCategory: product.category?.name || \"\",\r\n      category_id: product.category_id || product.category?.id || \"\",\r\n      product_type: product.product_type || \"\",\r\n      product_condition: product.product_condition || \"\",\r\n      fit: product.fit || \"\",\r\n      size: product.size_other ? \"Other\" : product.size || \"\",\r\n      other_size: product.size_other || \"\",\r\n      product_color: product.product_color || \"\",\r\n      brand: product.brand || \"\",\r\n      model_name: product.model_name || \"\",\r\n      invoice: product.invoice || \"No\",\r\n      needs_repair: product.needs_repair || \"No\",\r\n      original_box: product.original_box || \"No\",\r\n      dust_bag: product.dust_bag || \"No\",\r\n      additional_items: product.additional_items || \"\",\r\n      purchase_price: product.purchase_price || \"\",\r\n      selling_price: product.selling_price || \"\",\r\n      reason_to_sell: product.reason_to_sell || \"\",\r\n      purchase_year: product.purchase_year || \"\",\r\n      purchase_place: product.purchase_place || \"\",\r\n      product_link: product.product_link || \"\",\r\n      additional_info: parsedAdditional,\r\n      front_photo: null,\r\n      back_photo: null,\r\n      label_photo: null,\r\n      inside_photo: null,\r\n      button_photo: null,\r\n      wearing_photo: null,\r\n      invoice_photo: null,\r\n      repair_photo: null,\r\n      more_images: [],\r\n    };\r\n    setFormData(initialData);\r\n\r\n    const previews = {};\r\n    const keys = [\r\n      \"front_photo\",\r\n      \"back_photo\",\r\n      \"label_photo\",\r\n      \"inside_photo\",\r\n      \"button_photo\",\r\n      \"wearing_photo\",\r\n      \"invoice_photo\",\r\n      \"repair_photo\",\r\n    ];\r\n    keys.forEach((key) => {\r\n      if (product[key]) {\r\n        const url = product[key];\r\n        previews[key] = url.startsWith(\"http\")\r\n          ? url\r\n          : `${API_URL}${url.startsWith(\"/\") ? \"\" : \"/\"}${url}`;\r\n      }\r\n    });\r\n    setImagePreviews(previews);\r\n  }, [product]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, files } = e.target;\r\n\r\n    if (name.startsWith(\"additional_info.\")) {\r\n      const key = name.split(\".\")[1];\r\n      setFormData((p) => ({\r\n        ...p,\r\n        additional_info: {\r\n          ...p.additional_info,\r\n          [key]: value,\r\n        },\r\n      }));\r\n      return;\r\n    }\r\n\r\n    if (type === \"file\" && files?.length > 0) {\r\n      if (name === \"more_images\") {\r\n        setFormData((prev) => ({\r\n          ...prev,\r\n          more_images: [...(prev.more_images || []), ...Array.from(files)],\r\n        }));\r\n      } else {\r\n        const file = files[0];\r\n        setFormData((prev) => ({ ...prev, [name]: file }));\r\n        setImagePreviews((prev) => ({\r\n          ...prev,\r\n          [name]: URL.createObjectURL(file),\r\n        }));\r\n      }\r\n    } else if (name === \"productCategory\") {\r\n      const selectedCategory = categories.find((c) => c.name === value);\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        productCategory: value,\r\n        category_id: selectedCategory ? selectedCategory.id : \"\",\r\n        product_type: \"\",\r\n      }));\r\n    } else if (name === \"size\") {\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        size: value,\r\n        other_size: value === \"Other\" ? prev.other_size || \"\" : \"\",\r\n      }));\r\n    } else {\r\n      setFormData((prev) => ({ ...prev, [name]: value }));\r\n    }\r\n  };\r\n\r\n  const handleUpdate = async () => {\r\n    const data = new FormData();\r\n\r\n    Object.keys(formData).forEach((key) => {\r\n      const value = formData[key];\r\n\r\n      // Allow empty strings; skip only null/undefined\r\n      if (value === null || value === undefined) return;\r\n\r\n      if (key === \"more_images\" && Array.isArray(value)) {\r\n        value.forEach((file) => data.append(\"more_images\", file));\r\n      }\r\n      else if (value instanceof File) {\r\n        data.append(key, value);\r\n      }\r\n      else if (key === \"size\" && value === \"Other\") {\r\n        data.append(\"size\", \"Other\");\r\n        if (formData.other_size) data.append(\"size_other\", formData.other_size);\r\n      }\r\n      else if (key === \"additional_info\") {\r\n        data.append(\"additional_info\", JSON.stringify(value));\r\n      }\r\n      else if (key !== \"other_size\" && key !== \"productCategory\") {\r\n        data.append(key, value);\r\n      }\r\n    });\r\n\r\n\r\n    // try {\r\n    //   setIsSubmitting(true);\r\n    //   await axios.put(\r\n    //     `${API_URL}/api/product/${product.id || product._id}`,\r\n    //     data,\r\n    //     {\r\n    //       method: \"PUT\",\r\n    //       headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    //       withCredentials: true,\r\n    //     }\r\n    //   );\r\n    //   toast.success(\"Product updated successfully!\");\r\n    //   onUpdateSuccess?.();\r\n    //   onClose();\r\n    // } catch (err) {\r\n    //   if (err.response?.status === 401) {\r\n    //     handleUnauthorized();\r\n    //   } else {\r\n    //     toast.error(err.response?.data?.message || \"Update failed\");\r\n    //   }\r\n    // } finally {\r\n    //   setIsSubmitting(false);\r\n    // }\r\n    try {\r\n      setIsSubmitting(true);\r\n      await axios.put(\r\n        `${API_URL}/api/product/${product.id || product._id}`,\r\n        data,\r\n        {\r\n          method: \"PUT\",\r\n          headers: { \"Content-Type\": \"multipart/form-data\" },\r\n          withCredentials: true,\r\n        }\r\n      );\r\n      toast.success(\"Product updated successfully!\");\r\n      onUpdateSuccess?.();\r\n      onClose();\r\n    } catch (err) {\r\n      if (err.response?.status === 401) {\r\n        handleUnauthorized();\r\n      } else {\r\n        // Check if backend sent an array of validation errors\r\n        const errors = err.response?.data?.errors;\r\n        if (errors && Array.isArray(errors) && errors.length > 0) {\r\n          // Show all errors in the toast (can also join them into a single string)\r\n          errors.forEach((error) => toast.error(error));\r\n        } else {\r\n          // Show single error message if no array exists\r\n          toast.error(err.response?.data?.message || \"Update failed\");\r\n        }\r\n      }\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n\r\n  };\r\n\r\n  const steps = [\"Product\", \"Condition\", \"Images\", \"Price & Details\"];\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 overflow-y-auto\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-y-auto\">\r\n        <div className=\"sticky top-0 bg-white border-b p-6 flex justify-between items-center z-10\">\r\n          <h2 className=\"text-2xl md:text-3xl font-bold text-gray-800\">\r\n            Edit Product\r\n          </h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-4xl text-gray-500 hover:text-gray-800\"\r\n          >\r\n            ×\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"px-8 py-6 flex justify-center gap-8 md:gap-16 text-sm font-medium\">\r\n          {steps.map((s, i) => (\r\n            <div\r\n              key={i}\r\n              className={`flex items-center gap-3 ${step === i + 1 ? \"text-orange-600\" : \"text-gray-500\"\r\n                }`}\r\n            >\r\n              <div\r\n                className={`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${step === i + 1 ? \"bg-orange-600\" : \"bg-gray-400\"\r\n                  }`}\r\n              >\r\n                {i + 1}\r\n              </div>\r\n              <span className=\"hidden sm:block\">{s}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <form\r\n          onSubmit={(e) => e.preventDefault()}\r\n          className=\"px-6 md:px-12 pb-10 space-y-12\"\r\n        >\r\n          {/* STEP 1 - Product */}\r\n          {step === 1 && (\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n              <FormField\r\n                field={{ name: \"product_group\", label: \"Group *\", type: \"select\", options: [\"Men\", \"Women\", \"Girl\", \"Boy\"] }}\r\n                value={formData.product_group}\r\n                onChange={handleChange}\r\n              />\r\n              <FormField\r\n                field={{ name: \"productCategory\", label: \"Category *\", type: \"select\", options: isLoadingCategories ? [{ name: \"Loading...\" }] : categories }}\r\n                value={formData.productCategory}\r\n                onChange={handleChange}\r\n                disabled={!formData.product_group || isLoadingCategories}\r\n              />\r\n              <FormField\r\n                field={{ name: \"product_type\", label: \"Type *\", type: \"select\", options: types }}\r\n                value={formData.product_type}\r\n                onChange={handleChange}\r\n                disabled={!formData.category_id}\r\n              />\r\n              <FormField\r\n                field={{\r\n                  name: \"product_condition\",\r\n                  label: \"Condition *\",\r\n                  type: \"select\",\r\n                  options: PRODUCT_CONDITION_OPTIONS.map((x) => x.value),\r\n                }}\r\n                value={formData.product_condition}\r\n                onChange={handleChange}\r\n              />\r\n              <FormField\r\n                field={{ name: \"fit\", label: \"Fit (Only for men apparel)\", type: \"select\", options: [\"Slim\", \"Regular\", \"Loose\", \"Oversized\", \"Other\"] }}\r\n                value={formData.fit}\r\n                onChange={handleChange}\r\n              />\r\n              <FormField\r\n                field={{ name: \"size\", label: \"Size *\", type: \"select\", options: [\"XS\", \"S\", \"M\", \"L\", \"XL\", \"XXL\", \"Other\"] }}\r\n                value={formData.size}\r\n                onChange={handleChange}\r\n              />\r\n              <FormField\r\n                field={{ name: \"product_color\", label: \"Color\", type: \"text\" }}\r\n                value={formData.product_color}\r\n                onChange={handleChange}\r\n              />\r\n              <FormField\r\n                field={{ name: \"brand\", label: \"Brand *\", type: \"text\" }}\r\n                value={formData.brand}\r\n                onChange={handleChange}\r\n              />\r\n              <FormField\r\n                field={{ name: \"model_name\", label: \"Model Name \", type: \"text\" }}\r\n                value={formData.model_name}\r\n                onChange={handleChange}\r\n              />\r\n              <FormField\r\n                field={{ name: \"additional_info.title\", label: \"Title\" }}\r\n                value={formData.additional_info?.title}\r\n                onChange={handleChange}\r\n              />\r\n\r\n              <FormField\r\n                field={{ name: \"additional_info.fabric\", label: \"Fabric\" }}\r\n                value={formData.additional_info?.fabric}\r\n                onChange={handleChange}\r\n              />\r\n\r\n              <FormField\r\n                field={{ name: \"additional_info.model_size\", label: \"Model Size\" }}\r\n                value={formData.additional_info?.model_size}\r\n                onChange={handleChange}\r\n              />\r\n              {formData.size === \"Other\" && (\r\n                <div className=\"sm:col-span-2\">\r\n                  <FormField\r\n                    field={{ name: \"other_size\", label: \"Other Size *\", type: \"text\" }}\r\n                    value={formData.other_size}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* STEP 2 - Condition */}\r\n          {step === 2 && (\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n              <FormField\r\n                field={{ name: \"invoice\", label: \"Invoice?\", type: \"select\", options: [\"No\", \"Yes\"] }}\r\n                value={formData.invoice}\r\n                onChange={handleChange}\r\n              />\r\n              <FormField\r\n                field={{ name: \"invoice_photo\", label: \"Invoice Photo\", type: \"file\" }}\r\n                onChange={handleChange}\r\n                previewUrl={imagePreviews.invoice_photo}\r\n              />\r\n              <FormField\r\n                field={{ name: \"needs_repair\", label: \"Needs Repair?\", type: \"select\", options: [\"No\", \"Yes\"] }}\r\n                value={formData.needs_repair}\r\n                onChange={handleChange}\r\n              />\r\n              <FormField\r\n                field={{ name: \"repair_photo\", label: \"Repair Photo\", type: \"file\" }}\r\n                onChange={handleChange}\r\n                previewUrl={imagePreviews.repair_photo}\r\n              />\r\n              <FormField\r\n                field={{ name: \"original_box\", label: \"Original Box?\", type: \"select\", options: [\"No\", \"Yes\"] }}\r\n                value={formData.original_box}\r\n                onChange={handleChange}\r\n              />\r\n              <FormField\r\n                field={{ name: \"dust_bag\", label: \"Dust Bag?\", type: \"select\", options: [\"No\", \"Yes\"] }}\r\n                value={formData.dust_bag}\r\n                onChange={handleChange}\r\n              />\r\n              <div className=\"sm:col-span-2\">\r\n                <FormField\r\n                  field={{ name: \"additional_items\", label: \"Additional Items\", type: \"textarea\" }}\r\n                  value={formData.additional_items}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* STEP 3 - Images */}\r\n          {step === 3 && (\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n              {[\r\n                \"front_photo\",\r\n                \"back_photo\",\r\n                \"label_photo\",\r\n                \"inside_photo\",\r\n                \"button_photo\",\r\n                \"wearing_photo\",\r\n              ].map((key) => (\r\n                <FormField\r\n                  key={key}\r\n                  field={{\r\n                    name: key,\r\n                    label:\r\n                      key\r\n                        .replace(/_/g, \" \")\r\n                        .replace(/\\b\\w/g, (l) => l.toUpperCase()) + \" *\",\r\n                    type: \"file\",\r\n                  }}\r\n                  onChange={handleChange}\r\n                  previewUrl={imagePreviews[key]}\r\n                />\r\n              ))}\r\n              <div className=\"lg:col-span-3\">\r\n                <FormField\r\n                  field={{\r\n                    name: \"more_images\",\r\n                    label: \"More Images (Optional)\",\r\n                    type: \"file\",\r\n                    multiple: true,\r\n                  }}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* STEP 4 - Price & Details */}\r\n          {step === 4 && (\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n              <FormField\r\n                field={{ name: \"purchase_price\", label: \"Purchase Price (₹)\", type: \"number\" }}\r\n                value={formData.purchase_price}\r\n                onChange={handleChange}\r\n              />\r\n              <FormField\r\n                field={{ name: \"selling_price\", label: \"Selling Price (₹)\", type: \"number\" }}\r\n                value={formData.selling_price}\r\n                onChange={handleChange}\r\n              />\r\n              <FormField\r\n                field={{ name: \"reason_to_sell\", label: \"Reason to Sell\", type: \"text\" }}\r\n                value={formData.reason_to_sell}\r\n                onChange={handleChange}\r\n              />\r\n              <FormField\r\n                field={{ name: \"purchase_year\", label: \"Purchase Year\", type: \"number\" }}\r\n                value={formData.purchase_year}\r\n                onChange={handleChange}\r\n              />\r\n              <FormField\r\n                field={{ name: \"purchase_place\", label: \"Purchase Place\", type: \"text\" }}\r\n                value={formData.purchase_place}\r\n                onChange={handleChange}\r\n              />\r\n              <FormField\r\n                field={{ name: \"product_link\", label: \"Product Link\", type: \"url\" }}\r\n                value={formData.product_link}\r\n                onChange={handleChange}\r\n              />\r\n              <div className=\"sm:col-span-2\">\r\n                <div className=\"sm:col-span-2\">\r\n                  <div className=\"mt-6\">\r\n                    <FormField\r\n                      field={{\r\n                        name: \"additional_info.info\",\r\n                        label: \"Additional Info\",\r\n                        type: \"textarea\",\r\n                      }}\r\n                      value={formData.additional_info?.info}\r\n                      onChange={handleChange}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"mt-6\">\r\n                    <FormField\r\n                      field={{\r\n                        name: \"additional_info.description\",\r\n                        label: \"Product Description\",\r\n                        type: \"textarea\",\r\n                      }}\r\n                      value={formData.additional_info?.description}\r\n                      onChange={handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Buttons */}\r\n          <div className=\"flex flex-col sm:flex-row justify-between items-center gap-6 pt-10 border-t\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"w-full sm:w-auto px-10 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium\"\r\n            >\r\n              Cancel\r\n            </button>\r\n\r\n            <div className=\"flex gap-4\">\r\n              {step > 1 && (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setStep(step - 1)}\r\n                  className=\"px-8 py-3 bg-gray-300 rounded-lg font-medium\"\r\n                >\r\n                  Back\r\n                </button>\r\n              )}\r\n              {step < 4 ? (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setStep(step + 1)}\r\n                  className=\"px-12 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium text-lg\"\r\n                >\r\n                  Next\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleUpdate}\r\n                  disabled={isSubmitting}\r\n                  className=\"px-14 py-3.5 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 font-bold text-lg shadow-xl\"\r\n                >\r\n                  {isSubmitting ? \"Updating...\" : \"Update Product\"}\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminProductEdit;","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Download, Edit } from \"lucide-react\";\r\nimport * as XLSX from \"xlsx\";\r\nimport toast from \"react-hot-toast\";\r\nimport AdminProductEdit from \"./AdminProductEdit\";\r\n\r\nconst ProductManagement = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [statusFilter, setStatusFilter] = useState(\"all\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalProducts, setTotalProducts] = useState(0);\r\n  const [editProduct, setEditProduct] = useState(null);\r\n  const [adminEditProduct, setAdminEditProduct] = useState(null);\r\n\r\n  const itemsPerPage = 10;\r\n\r\n  // Fetch products\r\n  const fetchProducts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.get(\r\n        `${import.meta.env.VITE_API_URL}/api/admin/management/product`,\r\n        {\r\n          params: {\r\n            search,\r\n            status: statusFilter,\r\n            page: currentPage,\r\n            limit: itemsPerPage,\r\n          },\r\n          withCredentials: true,\r\n        }\r\n      );\r\n\r\n      const { success, data, message } = res.data;\r\n      if (success) {\r\n        setProducts(data.products);\r\n        setTotalProducts(data.total);\r\n        toast.success(message);\r\n      } else {\r\n        setProducts([]);\r\n        setTotalProducts(0);\r\n        toast.error(message);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(\"Error fetching products\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, [statusFilter, currentPage]);\r\n\r\n  // Search\r\n  const handleSearch = () => {\r\n    setCurrentPage(1);\r\n    fetchProducts();\r\n  };\r\n\r\n  // Status update\r\n  const updateStatus = async (productId, newStatus) => {\r\n    try {\r\n      await axios.patch(\r\n        `${import.meta.env.VITE_API_URL}/api/admin/management/product/${productId}/status`,\r\n        { status: newStatus },\r\n        { withCredentials: true }\r\n      );\r\n      toast.success(\"Product status updated successfully\");\r\n      fetchProducts();\r\n      closeEditModal();\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(\"Error updating status\");\r\n    }\r\n  };\r\n\r\n  // Edit modal\r\n  const openEditModal = (product) => setEditProduct(product);\r\n  const closeEditModal = () => setEditProduct(null);\r\n  const handleStatusChange = (e) => {\r\n    setEditProduct((prev) => ({ ...prev, status: e.target.value }));\r\n  };\r\n  const handleSaveEdit = () => {\r\n    updateStatus(editProduct.id, editProduct.status);\r\n  };\r\n\r\n  // Excel Export\r\n  const exportExcel = () => {\r\n    if (!products.length) return;\r\n    const ws = XLSX.utils.json_to_sheet(\r\n      products.map((p, index) => ({\r\n        SR_No: (currentPage - 1) * itemsPerPage + index + 1,\r\n        SKU: p.sku,\r\n        Product_Name: p.product_type,\r\n        Brand: p.brand,\r\n        Price: p.selling_price,\r\n        Status: p.status,\r\n      }))\r\n    );\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, ws, \"Products\");\r\n    XLSX.writeFile(wb, \"products.xlsx\");\r\n  };\r\n\r\n  const totalPages = Math.ceil(totalProducts / itemsPerPage);\r\n\r\n  return (\r\n    <div className=\"p-6 bg-gray-50 min-h-screen text-gray-800\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h2 className=\"text-2xl font-bold\">Product Management</h2>\r\n        <button\r\n          onClick={exportExcel}\r\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center gap-2 hover:bg-blue-700\"\r\n        >\r\n          <Download size={16} /> Export Report\r\n        </button>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"mb-4 flex gap-2 flex-wrap bg-white shadow-sm p-4 rounded-lg\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search by SKU or Product Name\"\r\n          value={search}\r\n          onChange={(e) => setSearch(e.target.value)}\r\n          className=\"px-4 py-2 border rounded-lg flex-1 focus:ring focus:ring-blue-200\"\r\n        />\r\n        <button\r\n          onClick={handleSearch}\r\n          className=\"px-4 py-2 bg-[#FF6A00] text-white rounded-lg hover:bg-orange-500\"\r\n        >\r\n          Search\r\n        </button>\r\n        <select\r\n          value={statusFilter}\r\n          onChange={(e) => {\r\n            setStatusFilter(e.target.value);\r\n            setCurrentPage(1);\r\n          }}\r\n          className=\"px-4 py-2 border rounded-lg\"\r\n        >\r\n          <option value=\"all\">All</option>\r\n          <option value=\"approved\">Approved</option>\r\n          <option value=\"pending\">Pending</option>\r\n          <option value=\"rejected\">Rejected</option>\r\n        </select>\r\n      </div>\r\n\r\n      {/* Table */}\r\n      <div className=\"bg-white rounded-lg shadow overflow-x-auto\">\r\n        <table className=\"w-full text-left border-collapse\">\r\n          <thead className=\"bg-gray-100 text-gray-700\">\r\n            <tr>\r\n              <th className=\"px-4 py-3 border\">SR.</th>\r\n              <th className=\"px-4 py-3 border\">SKU</th>\r\n              <th className=\"px-4 py-3 border\">Product Name</th>\r\n              <th className=\"px-4 py-3 border\">Brand</th>\r\n              <th className=\"px-4 py-3 border\">Price</th>\r\n              <th className=\"px-4 py-3 border\">Status</th>\r\n              <th className=\"px-4 py-3 border\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {loading ? (\r\n              <tr>\r\n                <td colSpan={7} className=\"text-center py-6\">\r\n                  Loading products...\r\n                </td>\r\n              </tr>\r\n            ) : products.length === 0 ? (\r\n              <tr>\r\n                <td colSpan={7} className=\"text-center py-6\">\r\n                  No matching products\r\n                </td>\r\n              </tr>\r\n            ) : (\r\n              products?.map((p, index) => (\r\n                <tr key={p.id} className=\"hover:bg-gray-50\">\r\n                  <td className=\"px-4 py-3 border\">\r\n                    {(currentPage - 1) * itemsPerPage + index + 1}\r\n                  </td>\r\n                  <td className=\"px-4 py-3 border font-medium\">{p.sku}</td>\r\n                  <td className=\"px-4 py-3 border\">{p.product_type}</td>\r\n                  <td className=\"px-4 py-3 border\">{p.brand}</td>\r\n                  <td className=\"px-4 py-3 border\">{p.selling_price}</td>\r\n                  <td className=\"px-4 py-3 border\">\r\n                    <span\r\n                      className={`px-2 py-1 text-xs font-semibold rounded-full ${p.status === \"approved\"\r\n                        ? \"bg-green-100 text-green-700\"\r\n                        : p.status === \"pending\"\r\n                          ? \"bg-yellow-100 text-yellow-700\"\r\n                          : \"bg-red-100 text-red-700\"\r\n                        }`}\r\n                    >\r\n                      {p.status}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-4 py-3 border flex gap-2\">\r\n                    <Link\r\n                      to={`/admin/products/${p.id}`}\r\n                      className=\"text-blue-500 hover:text-blue-700\"\r\n                    >\r\n                      View\r\n                    </Link>\r\n                    <button\r\n                      onClick={() => openEditModal(p)}\r\n                      className=\"text-green-500 hover:text-green-700 flex items-center gap-1\"\r\n                    >\r\n                      <Edit size={16} /> Approvement\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setAdminEditProduct(p)}\r\n                      className=\"text-green-500 hover:text-green-700 flex items-center gap-1\"\r\n                    >\r\n                      <Edit size={16} /> Edit\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      {totalPages > 1 && (\r\n        <div className=\"flex justify-end gap-2 mt-4\">\r\n\r\n          {/* Prev Button */}\r\n          <button\r\n            onClick={() => setCurrentPage((p) => Math.max(p - 1, 1))}\r\n            disabled={currentPage === 1}\r\n            className=\"px-3 py-1 border rounded hover:bg-gray-100 disabled:opacity-50\"\r\n          >\r\n            Prev\r\n          </button>\r\n\r\n          {/* Page Numbers Logic */}\r\n          {(() => {\r\n            const pages = [];\r\n            const showPages = 5; // only 5 pages visible\r\n\r\n            let start = Math.max(1, currentPage - 2);\r\n            let end = Math.min(totalPages, start + showPages - 1);\r\n\r\n            if (end - start < showPages - 1) {\r\n              start = Math.max(1, end - showPages + 1);\r\n            }\r\n\r\n            // Show first page if not included\r\n            if (start > 1) {\r\n              pages.push(\r\n                <button\r\n                  key={1}\r\n                  onClick={() => setCurrentPage(1)}\r\n                  className={`px-3 py-1 border rounded ${currentPage === 1 ? \"bg-blue-600 text-white\" : \"\"\r\n                    }`}\r\n                >\r\n                  1\r\n                </button>\r\n              );\r\n              pages.push(<span key=\"dots1\">...</span>);\r\n            }\r\n\r\n            // Middle pages\r\n            for (let i = start; i <= end; i++) {\r\n              pages.push(\r\n                <button\r\n                  key={i}\r\n                  onClick={() => setCurrentPage(i)}\r\n                  className={`px-3 py-1 border rounded ${currentPage === i ? \"bg-blue-600 text-white\" : \"\"\r\n                    }`}\r\n                >\r\n                  {i}\r\n                </button>\r\n              );\r\n            }\r\n\r\n            // Show last page if not included\r\n            if (end < totalPages) {\r\n              pages.push(<span key=\"dots2\">...</span>);\r\n              pages.push(\r\n                <button\r\n                  key={totalPages}\r\n                  onClick={() => setCurrentPage(totalPages)}\r\n                  className={`px-3 py-1 border rounded ${currentPage === totalPages ? \"bg-blue-600 text-white\" : \"\"\r\n                    }`}\r\n                >\r\n                  {totalPages}\r\n                </button>\r\n              );\r\n            }\r\n\r\n            return pages;\r\n          })()}\r\n\r\n          {/* Next Button */}\r\n          <button\r\n            onClick={() => setCurrentPage((p) => Math.min(p + 1, totalPages))}\r\n            disabled={currentPage === totalPages}\r\n            className=\"px-3 py-1 border rounded hover:bg-gray-100 disabled:opacity-50\"\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Modal */}\r\n      {editProduct && (\r\n        <div className=\"fixed inset-0 bg-black/40 flex justify-center items-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 w-80 relative\">\r\n            <button\r\n              className=\"absolute top-2 right-2 text-gray-500 hover:text-gray-800\"\r\n              onClick={closeEditModal}\r\n            >\r\n              ✕\r\n            </button>\r\n            <h3 className=\"text-xl font-bold mb-4\">Update Product Status</h3>\r\n            <div className=\"flex flex-col gap-3\">\r\n              <select\r\n                name=\"status\"\r\n                value={editProduct.status}\r\n                onChange={handleStatusChange}\r\n                className=\"px-3 py-2 border rounded\"\r\n              >\r\n                <option value=\"approved\">Approved</option>\r\n                <option value=\"pending\">Pending</option>\r\n                <option value=\"rejected\">Rejected</option>\r\n              </select>\r\n              <button\r\n                onClick={handleSaveEdit}\r\n                className=\"bg-[#FF6A00] text-white px-4 py-2 rounded hover:bg-orange-500\"\r\n              >\r\n                Save Status\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {adminEditProduct && (\r\n        <AdminProductEdit\r\n          product={adminEditProduct}\r\n          onClose={() => setAdminEditProduct(null)}\r\n          onUpdateSuccess={fetchProducts}\r\n        />\r\n      )}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductManagement;\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7', key: '1m0v6g' }],\n  [\n    'path',\n    {\n      d: 'M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z',\n      key: 'ohrbg2',\n    },\n  ],\n];\n\n/**\n * @component @name SquarePen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgM0g1YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0ydi03IiAvPgogIDxwYXRoIGQ9Ik0xOC4zNzUgMi42MjVhMSAxIDAgMCAxIDMgM2wtOS4wMTMgOS4wMTRhMiAyIDAgMCAxLS44NTMuNTA1bC0yLjg3My44NGEuNS41IDAgMCAxLS42Mi0uNjJsLjg0LTIuODczYTIgMiAwIDAgMSAuNTA2LS44NTJ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/square-pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SquarePen = createLucideIcon('square-pen', __iconNode);\n\nexport default SquarePen;\n"],"names":["API_URL","process","PRODUCT_CONDITION_OPTIONS","value","label","FormField","_ref","field","onChange","error","disabled","previewUrl","isOpen","setIsOpen","useState","searchValue","setSearchValue","filteredOptions","setFilteredOptions","options","wrapperRef","useRef","useEffect","Array","isArray","filtered","filter","opt","name","toLowerCase","includes","toString","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleToggle","_PRODUCT_CONDITION_OP","type","_jsxs","className","ref","children","_jsx","concat","onClick","find","x","e","placeholder","stopPropagation","length","map","idx","_PRODUCT_CONDITION_OP2","selectedValue","finalValue","handleSelect","src","alt","onError","style","display","multiple","accept","rows","_ref2","_formData$additional_","_formData$additional_2","_formData$additional_3","_formData$additional_4","_formData$additional_5","product","onClose","onUpdateSuccess","navigate","useNavigate","step","setStep","isSubmitting","setIsSubmitting","formData","setFormData","categories","setCategories","types","setTypes","imagePreviews","setImagePreviews","isLoadingCategories","setIsLoadingCategories","handleUnauthorized","toast","async","product_group","params","URLSearchParams","append","res","axios","get","withCredentials","data","success","err","_err$response","response","status","fetchCategories","category_id","t","type_name","_err$response2","fetchTypes","_product$category","_product$category2","parsedAdditional","title","fabric","model_size","info","description","additional_info","JSON","parse","console","initialData","productCategory","category","id","product_type","product_condition","fit","size","size_other","other_size","product_color","brand","model_name","invoice","needs_repair","original_box","dust_bag","additional_items","purchase_price","selling_price","reason_to_sell","purchase_year","purchase_place","product_link","front_photo","back_photo","label_photo","inside_photo","button_photo","wearing_photo","invoice_photo","repair_photo","more_images","previews","forEach","key","url","startsWith","handleChange","files","split","p","_objectSpread","prev","from","file","URL","createObjectURL","selectedCategory","c","s","i","onSubmit","preventDefault","replace","l","toUpperCase","FormData","Object","keys","undefined","File","stringify","put","_id","method","headers","_err$response3","_err$response4","_err$response4$data","errors","_err$response5","_err$response5$data","message","ProductManagement","products","setProducts","loading","setLoading","search","setSearch","statusFilter","setStatusFilter","currentPage","setCurrentPage","totalProducts","setTotalProducts","editProduct","setEditProduct","adminEditProduct","setAdminEditProduct","fetchProducts","page","limit","total","closeEditModal","totalPages","Math","ceil","exportExcel","ws","XLSX","json_to_sheet","index","SR_No","SKU","sku","Product_Name","Brand","Price","Status","wb","book_new","book_append_sheet","Download","handleSearch","colSpan","Link","to","Edit","max","pages","start","end","min","showPages","push","handleSaveEdit","productId","newStatus","patch","updateStatus","AdminProductEdit","SquarePen","createLucideIcon","d"],"ignoreList":[],"sourceRoot":""}