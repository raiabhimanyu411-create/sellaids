{"version":3,"file":"static/js/9521.48ef8354.chunk.js","mappings":"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","sources":["pages/dashboard/Profile.js","../node_modules/lucide-react/src/icons/eye.ts","../node_modules/lucide-react/src/icons/arrow-left.ts","components/UserFooter.jsx","../node_modules/lucide-react/src/icons/eye-off.ts"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport { useUserStore } from \"../../stores/useUserStore\";\r\nimport axios from \"axios\";\r\nimport { Eye, EyeOff } from \"lucide-react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast, Toaster } from \"react-hot-toast\";\r\nimport UserFooter from \"../../components/UserFooter\";\r\n\r\nexport default function Profile() {\r\n  const { user, isAuthenticated, isUserLoading, login, logout } = useUserStore();\r\n  const navigate = useNavigate();\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    address_line: \"\",\r\n    city: \"\",\r\n    state: \"\",\r\n    pincode: \"\",\r\n    currentPassword: \"\",\r\n    newPassword: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showPassword, setShowPassword] = useState({\r\n    current: false,\r\n    new: false,\r\n    confirm: false,\r\n  });\r\n\r\n  const nameInputRef = useRef(null);\r\n\r\n  // === FETCH PROFILE ON MOUNT ===\r\n  useEffect(() => {\r\n    if (isUserLoading) return;\r\n\r\n    if (!isAuthenticated || !user?.id) {\r\n      toast.error(\"Please log in to view your profile [Error]\", {\r\n        duration: 2500,\r\n      });\r\n      navigate(\"/UserAuth/UserLogin\", { replace: true });\r\n      return;\r\n    }\r\n\r\n    const endpoint = `${import.meta.env.VITE_API_URL}/api/user/profile/list`;\r\n    axios\r\n      .get(endpoint, { withCredentials: true })\r\n      .then((res) => {\r\n        const userData = res.data.data;\r\n        setFormData({\r\n          name: userData.name || userData.full_name || \"\",\r\n          email: userData.email || \"\",\r\n          phone: userData.phone || \"\",\r\n          address_line: userData.address_line || \"\",\r\n          city: userData.city || \"\",\r\n          state: userData.state || \"\",\r\n          pincode: userData.pincode || \"\",\r\n          currentPassword: \"\",\r\n          newPassword: \"\",\r\n          confirmPassword: \"\",\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        if (err.response?.status === 401) {\r\n          toast.error(\"Session expired. Please log in again [Error]\", {\r\n            duration: 2500,\r\n          });\r\n          logout();\r\n          navigate(\"/UserAuth/UserLogin\", { replace: true });\r\n        } else {\r\n          toast.error(\"Failed to load profile [Error]\", {\r\n            duration: 2500,\r\n          });\r\n        }\r\n      });\r\n  }, [isAuthenticated, user, isUserLoading, navigate, logout]);\r\n\r\n  const handleChange = (e) =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  const handleEditClick = () => setIsEditing(true);\r\n\r\n  useEffect(() => {\r\n    if (isEditing) {\r\n      setTimeout(() => nameInputRef.current?.focus(), 0);\r\n    }\r\n  }, [isEditing]);\r\n\r\n  const handleCancelEdit = () => {\r\n    if (user?.id) {\r\n      const endpoint = `${import.meta.env.VITE_API_URL}/api/user/profile/list`;\r\n      axios\r\n        .get(endpoint, { withCredentials: true })\r\n        .then((res) => {\r\n          const userData = res.data.data;\r\n          setFormData({\r\n            name: userData.name || userData.full_name || \"\",\r\n            email: userData.email || \"\",\r\n            phone: userData.phone || \"\",\r\n            address_line: userData.address_line || \"\",\r\n            city: userData.city || \"\",\r\n            state: userData.state || \"\",\r\n            pincode: userData.pincode || \"\",\r\n            currentPassword: \"\",\r\n            newPassword: \"\",\r\n            confirmPassword: \"\",\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    }\r\n    setIsEditing(false);\r\n  };\r\n\r\n \r\n // === MAIN SUBMIT HANDLER ===\r\nconst handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n  setLoading(true);\r\n\r\n  try {\r\n    const updateData = {\r\n      name: formData.name,\r\n      phone: formData.phone,\r\n      address_line: formData.address_line,\r\n      city: formData.city,\r\n      state: formData.state,\r\n      pincode: formData.pincode,\r\n    };\r\n\r\n    let passwordChanged = false;\r\n\r\n    if (\r\n      formData.currentPassword ||\r\n      formData.newPassword ||\r\n      formData.confirmPassword\r\n    ) {\r\n      if (formData.newPassword !== formData.confirmPassword) {\r\n        toast.error(\"New passwords do not match! [Error]\", {\r\n          duration: 2500,\r\n        });\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      updateData.currentPassword = formData.currentPassword;\r\n      updateData.newPassword = formData.newPassword;\r\n      updateData.confirmPassword = formData.confirmPassword;\r\n      passwordChanged = true;\r\n    }\r\n\r\n    const endpoint = `${import.meta.env.VITE_API_URL}/api/user/profile/edit`;\r\n    const res = await axios.put(endpoint, updateData, {\r\n      withCredentials: true,\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n\r\n    toast.success(\"Profile updated! [Success]\", {\r\n      duration: 2500,\r\n    });\r\n\r\n    // === PASSWORD CHANGED => LOGOUT ===\r\n    if (passwordChanged) {\r\n      toast.success(\"Password changed! Logging out for security... [Lock]\", {\r\n        duration: 3000,\r\n      });\r\n\r\n      try {\r\n        await axios.post(\r\n          `${import.meta.env.VITE_API_URL}/api/user/logout`,\r\n            {},\r\n            { withCredentials: true }\r\n        );\r\n      } catch (err) {\r\n        console.warn(\"Backend logout failed (continuing anyway):\", err);\r\n      }\r\n\r\n      logout();\r\n      navigate(\"/UserAuth/UserLogin\", { replace: true });\r\n      return;\r\n    }\r\n\r\n    // === FETCH UPDATED PROFILE AGAIN ===\r\n    try {\r\n      const refreshed = await axios.get(\r\n        `${import.meta.env.VITE_API_URL}/api/user/profile/list`,\r\n        { withCredentials: true }\r\n      );\r\n\r\n      login(refreshed.data.data);\r\n    } catch (fetchErr) {\r\n      console.error(\"Failed to refresh updated profile\", fetchErr);\r\n    }\r\n\r\n    setIsEditing(false);\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      currentPassword: \"\",\r\n      newPassword: \"\",\r\n      confirmPassword: \"\",\r\n    }));\r\n\r\n    // === REDIRECT TO DASHBOARD AFTER NORMAL UPDATE ===\r\n    navigate(\"/user\");\r\n\r\n  } catch (error) {\r\n    if (error.response?.status === 401) {\r\n      toast.error(\"Session expired. Logging out... [Error]\", {\r\n        duration: 2500,\r\n      });\r\n      logout();\r\n      navigate(\"/UserAuth/UserLogin\", { replace: true });\r\n    } else if (error.response?.data?.error === \"Current password is incorrect\") {\r\n      toast.error(\"Current password is wrong! [Error]\", {\r\n        duration: 2500,\r\n      });\r\n    } else if (error.response?.status === 400 && error.response?.data?.errors) {\r\n      const errs = Array.isArray(error.response.data.errors)\r\n        ? error.response.data.errors\r\n        : error.response.data.errors.map((e) => e.msg);\r\n      errs.forEach((msg) =>\r\n        toast.error(msg + \" [Error]\", { duration: 2500 })\r\n      );\r\n    } else {\r\n      toast.error(error.response?.data?.message || \"Update failed [Error]\", {\r\n        duration: 2500,\r\n      });\r\n    }\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n  const togglePassword = (field) =>\r\n    setShowPassword((prev) => ({ ...prev, [field]: !prev[field] }));\r\n\r\n  const formatAddress = () => {\r\n    const { address_line, city, state, pincode } = formData;\r\n    const parts = [address_line, city, state, pincode].filter(Boolean);\r\n    return parts.length ? parts.join(\", \") : \"Not provided\";\r\n  };\r\n\r\n  // === RENDER ===\r\n  if (isUserLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 p-6\">\r\n        {/* <Toaster\r\n          position=\"top-right\"\r\n          toastOptions={{ duration: 2500 }}\r\n        /> */}\r\n        <p className=\"text-center mt-10\">Loading user...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isAuthenticated || !user?.id) return null;\r\n\r\n  return (\r\n      <div>\r\n    <div className=\"max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-md mt-10\">\r\n      {/* <Toaster\r\n        position=\"top-right\"\r\n        toastOptions={{ duration: 2500 }}\r\n      /> */}\r\n      <h1 className=\"text-3xl font-bold mb-6 text-gray-800\">My Profile</h1>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        {/* Name */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Full Name\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            ref={nameInputRef}\r\n            value={formData.name}\r\n            onChange={handleChange}\r\n            disabled={!isEditing}\r\n            placeholder={isEditing ? \"Enter name\" : \"\"}\r\n            className={`w-full border rounded-lg p-3 focus:ring-2 focus:ring-red-500 focus:outline-none ${\r\n              !isEditing ? \"bg-gray-100 cursor-not-allowed\" : \"\"\r\n            }`}\r\n          />\r\n        </div>\r\n\r\n        {/* Email */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Email\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            value={formData.email}\r\n            disabled\r\n            className=\"w-full border rounded-lg p-3 bg-gray-100 cursor-not-allowed\"\r\n          />\r\n        </div>\r\n\r\n        {/* Phone */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Phone\r\n          </label>\r\n          <input\r\n            type=\"tel\"\r\n            name=\"phone\"\r\n            value={formData.phone}\r\n            onChange={(e) => {\r\n              const digits = e.target.value.replace(/\\D/g, \"\").slice(0, 10);\r\n              setFormData({ ...formData, phone: digits });\r\n            }}\r\n            maxLength={10}\r\n            disabled={!isEditing}\r\n            placeholder={isEditing ? \"Enter phone\" : \"\"}\r\n            className={`w-full border rounded-lg p-3 focus:ring-2 focus:ring-red-500 focus:outline-none ${\r\n              !isEditing ? \"bg-gray-100 cursor-not-allowed\" : \"\"\r\n            }`}\r\n          />\r\n        </div>\r\n\r\n        {/* Address */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Address\r\n          </label>\r\n          {isEditing ? (\r\n            <div className=\"space-y-3\">\r\n              <input\r\n                name=\"address_line\"\r\n                value={formData.address_line}\r\n                onChange={handleChange}\r\n                placeholder=\"Address line\"\r\n                className=\"w-full border rounded-lg p-3 focus:ring-2 focus:ring-red-500\"\r\n              />\r\n              <input\r\n                name=\"city\"\r\n                value={formData.city}\r\n                onChange={handleChange}\r\n                placeholder=\"City\"\r\n                className=\"w-full border rounded-lg p-3 focus:ring-2 focus:ring-red-500\"\r\n              />\r\n              <input\r\n                name=\"state\"\r\n                value={formData.state}\r\n                onChange={handleChange}\r\n                placeholder=\"State\"\r\n                className=\"w-full border rounded-lg p-3 focus:ring-2 focus:ring-red-500\"\r\n              />\r\n              <input\r\n                name=\"pincode\"\r\n                value={formData.pincode}\r\n                onChange={(e) => {\r\n                  const digits = e.target.value.replace(/\\D/g, \"\").slice(0, 6);\r\n                  setFormData({ ...formData, pincode: digits });\r\n                }}\r\n                maxLength={6}\r\n                placeholder=\"Pincode\"\r\n                className=\"w-full border rounded-lg p-3 focus:ring-2 focus:ring-red-500\"\r\n              />\r\n            </div>\r\n          ) : (\r\n            <div className=\"w-full border rounded-lg p-3 bg-gray-100\">\r\n              {formatAddress()}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Password Section */}\r\n        {isEditing && (\r\n          <div className=\"space-y-4\">\r\n            <h2 className=\"text-lg font-semibold text-gray-800 border-b pb-2\">\r\n              Change Password\r\n            </h2>\r\n\r\n            <div className=\"relative\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Current Password\r\n              </label>\r\n              <input\r\n                type={showPassword.current ? \"text\" : \"password\"}\r\n                name=\"currentPassword\"\r\n                value={formData.currentPassword}\r\n                onChange={handleChange}\r\n                placeholder=\"Current password\"\r\n                className=\"w-full border rounded-lg p-3 pr-10 focus:ring-2 focus:ring-red-500\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => togglePassword(\"current\")}\r\n                className=\"absolute right-3 top-10 text-gray-600\"\r\n              >\r\n                {showPassword.current ? <EyeOff size={18} /> : <Eye size={18} />}\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"relative\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                New Password\r\n              </label>\r\n              <input\r\n                type={showPassword.new ? \"text\" : \"password\"}\r\n                name=\"newPassword\"\r\n                value={formData.newPassword}\r\n                onChange={handleChange}\r\n                placeholder=\"New password\"\r\n                className=\"w-full border rounded-lg p-3 pr-10 focus:ring-2 focus:ring-red-500\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => togglePassword(\"new\")}\r\n                className=\"absolute right-3 top-10 text-gray-600\"\r\n              >\r\n                {showPassword.new ? <EyeOff size={18} /> : <Eye size={18} />}\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"relative\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Confirm Password\r\n              </label>\r\n              <input\r\n                type={showPassword.confirm ? \"text\" : \"password\"}\r\n                name=\"confirmPassword\"\r\n                value={formData.confirmPassword}\r\n                onChange={handleChange}\r\n                placeholder=\"Confirm new password\"\r\n                className=\"w-full border rounded-lg p-3 pr-10 focus:ring-2 focus:ring-red-500\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => togglePassword(\"confirm\")}\r\n                className=\"absolute right-3 top-10 text-gray-600\"\r\n              >\r\n                {showPassword.confirm ? <EyeOff size={18} /> : <Eye size={18} />}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Buttons */}\r\n        <div className=\"flex justify-end gap-3 mt-6\">\r\n          {!isEditing ? (\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleEditClick}\r\n              className=\"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700\"\r\n            >\r\n              Edit Profile\r\n            </button>\r\n          ) : (\r\n            <>\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleCancelEdit}\r\n                className=\"bg-gray-400 text-white px-6 py-3 rounded-lg hover:bg-gray-500\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className=\"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 disabled:opacity-50\"\r\n              >\r\n                {loading ? \"Saving...\" : \"Save Changes\"}\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </form>\r\n    </div>\r\n    {/* âœ… UserFooter added */}\r\n      <div className=\"mt-8\">\r\n        <UserFooter />\r\n      </div>\r\n    </div>\r\n  );\r\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0',\n      key: '1nclc0',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('eye', __iconNode);\n\nexport default Eye;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","import React from \"react\";\r\nimport { ArrowLeft } from \"lucide-react\";\r\n\r\nconst UserFooter = () => {\r\n  const goToWebsite = () => {\r\n    window.location.href = \"/\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-4 py-4 border-t border-gray-200 bg-gray-50\">\r\n      <div className=\"max-w-3xl mx-auto text-center\">\r\n        <button\r\n          onClick={goToWebsite}\r\n          className=\"inline-flex items-center gap-2 text-gray-700 hover:text-red-600 font-medium text-lg transition-colors duration-200 group\"\r\n        >\r\n          <ArrowLeft size={20} className=\"mr-2 group-hover:-translate-x-1 transition-transform\" />\r\n          Back to Website\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserFooter;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49',\n      key: 'ct8e1f',\n    },\n  ],\n  ['path', { d: 'M14.084 14.158a3 3 0 0 1-4.242-4.242', key: '151rxh' }],\n  [\n    'path',\n    {\n      d: 'M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143',\n      key: '13bj9a',\n    },\n  ],\n  ['path', { d: 'm2 2 20 20', key: '1ooewy' }],\n];\n\n/**\n * @component @name EyeOff\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAuNzMzIDUuMDc2YTEwLjc0NCAxMC43NDQgMCAwIDEgMTEuMjA1IDYuNTc1IDEgMSAwIDAgMSAwIC42OTYgMTAuNzQ3IDEwLjc0NyAwIDAgMS0xLjQ0NCAyLjQ5IiAvPgogIDxwYXRoIGQ9Ik0xNC4wODQgMTQuMTU4YTMgMyAwIDAgMS00LjI0Mi00LjI0MiIgLz4KICA8cGF0aCBkPSJNMTcuNDc5IDE3LjQ5OWExMC43NSAxMC43NSAwIDAgMS0xNS40MTctNS4xNTEgMSAxIDAgMCAxIDAtLjY5NiAxMC43NSAxMC43NSAwIDAgMSA0LjQ0Ni01LjE0MyIgLz4KICA8cGF0aCBkPSJtMiAyIDIwIDIwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye-off\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst EyeOff = createLucideIcon('eye-off', __iconNode);\n\nexport default EyeOff;\n"],"names":["Profile","user","isAuthenticated","isUserLoading","login","logout","useUserStore","navigate","useNavigate","formData","setFormData","useState","name","email","phone","address_line","city","state","pincode","currentPassword","newPassword","confirmPassword","isEditing","setIsEditing","loading","setLoading","showPassword","setShowPassword","current","new","confirm","nameInputRef","useRef","useEffect","id","toast","error","duration","replace","endpoint","concat","process","axios","get","withCredentials","then","res","userData","data","full_name","catch","err","_err$response","response","status","handleChange","e","_objectSpread","target","value","setTimeout","_nameInputRef$current","focus","togglePassword","field","prev","_jsx","className","children","_jsxs","onSubmit","async","preventDefault","updateData","passwordChanged","put","headers","success","post","console","warn","refreshed","fetchErr","_error$response","_error$response2","_error$response2$data","_error$response3","_error$response4","_error$response4$data","errors","errs","Array","isArray","map","msg","forEach","_error$response5","_error$response5$data","message","type","ref","onChange","disabled","placeholder","digits","slice","maxLength","formatAddress","parts","filter","Boolean","length","join","onClick","EyeOff","size","Eye","_Fragment","handleCancelEdit","handleEditClick","UserFooter","createLucideIcon","d","key","cx","cy","r","ArrowLeft","goToWebsite","window","location","href"],"ignoreList":[],"sourceRoot":""}