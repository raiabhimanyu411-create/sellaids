{"version":3,"file":"static/js/6630.663e8cf6.chunk.js","mappings":"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","sources":["pages/vendor/BulkOrder.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst BulkOrderForm = () => {\r\n  const [catalogFile, setCatalogFile] = useState(null);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const API_URL = import.meta.env.VITE_API_URL || \"http://localhost:5000\";\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) {\r\n      setCatalogFile(null);\r\n      setErrors({ catalogFile: \"Please upload a file\" });\r\n      return;\r\n    }\r\n\r\n    const allowedTypes = [\r\n      \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\r\n      \"application/vnd.ms-excel\",\r\n    ];\r\n\r\n    if (!allowedTypes.includes(file.type)) {\r\n      toast.error(\"Only Excel files allowed (.xlsx / .xls)\");\r\n      e.target.value = \"\";\r\n      return;\r\n    }\r\n\r\n    const MAX_SIZE = 20 * 1024 * 1024; // 20MB\r\n    if (file.size > MAX_SIZE) {\r\n      toast.error(\"Maximum 20MB allowed\");\r\n      setErrors({ catalogFile: \"Max 20MB allowed\" });\r\n      e.target.value = \"\";\r\n      setCatalogFile(null);\r\n      return;\r\n    }\r\n\r\n    setCatalogFile(file);\r\n    setErrors({});\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    if (!catalogFile) newErrors.catalogFile = \"Please upload Excel file\";\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  // ðŸš€ API Submit\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateForm()) return;\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", catalogFile); \r\n\r\n      const response = await fetch(`${API_URL}/api/product/bulk-upload`, {\r\n        method: \"POST\",\r\n        body: formData,\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok) {\r\n        toast.success(\"Bulk upload successful!\");\r\n      } else {\r\n        toast.error(result?.message || \"Upload failed\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(\"Server error! Try again later.\");\r\n    }\r\n\r\n    setCatalogFile(null);\r\n    const input = document.getElementById(\"catalog-upload\");\r\n    if (input) input.value = \"\";\r\n  };\r\n\r\n  const handleDownload = () => {\r\n    const link = document.createElement(\"a\");\r\n    link.href = \"/bulkorder.xlsx\";\r\n    link.download = \"bulkorder.xlsx\";\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-2xl mx-auto\">\r\n        <div className=\"bg-white rounded-lg shadow-lg overflow-hidden\">\r\n          <div className=\"px-6 py-8 sm:p-10\">\r\n\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n              {/* DOWNLOAD FORMAT BUTTON */}\r\n              <div className=\"text-center py-4\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleDownload}\r\n                  className=\"text-orange-600 font-bold underline text-lg\"\r\n                >\r\n                  Click Here To Download Bulk Order Excel Format\r\n                </button>\r\n              </div>\r\n\r\n              {/* FILE UPLOAD */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 text-center\">\r\n                  Import Filled Catalog (Max 20MB) *\r\n                </label>\r\n\r\n                <div\r\n                  className={`mt-2 p-6 border-2 border-dashed rounded-lg text-center ${\r\n                    errors.catalogFile\r\n                      ? \"border-red-500 bg-red-50\"\r\n                      : \"border-gray-300 hover:border-orange-400\"\r\n                  }`}\r\n                >\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"catalog-upload\"\r\n                    className=\"hidden\"\r\n                    accept=\".xlsx,.xls\"\r\n                    onChange={handleFileChange}\r\n                  />\r\n\r\n                  <label htmlFor=\"catalog-upload\" className=\"cursor-pointer\">\r\n                    <p className=\"text-orange-600 font-medium\">Choose File</p>\r\n                    <p className=\"text-xs text-gray-500 mt-1\">\r\n                      Max 20MB â€¢ Only .xlsx\r\n                    </p>\r\n                  </label>\r\n\r\n                  {catalogFile && (\r\n                    <p className=\"mt-3 text-green-600 font-medium\">\r\n                      {catalogFile.name} (\r\n                      {(catalogFile.size / (1024 * 1024)).toFixed(2)} MB)\r\n                    </p>\r\n                  )}\r\n                </div>\r\n\r\n                {errors.catalogFile && (\r\n                  <p className=\"text-red-600 text-center text-sm mt-2\">\r\n                    {errors.catalogFile}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* SUBMIT BUTTON */}\r\n              <button\r\n                type=\"submit\"\r\n                className=\"w-full bg-orange-600 text-white py-3 rounded-md font-semibold hover:bg-orange-700\"\r\n              >\r\n                SUBMIT BULK ORDER\r\n              </button>\r\n            </form>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BulkOrderForm;"],"names":["BulkOrderForm","catalogFile","setCatalogFile","useState","errors","setErrors","_jsx","className","children","_jsxs","onSubmit","async","e","preventDefault","validateForm","newErrors","Object","keys","length","formData","FormData","append","response","fetch","concat","process","method","body","result","json","ok","toast","success","error","message","err","console","input","document","getElementById","value","type","onClick","handleDownload","link","createElement","href","download","appendChild","click","removeChild","id","accept","onChange","file","target","files","includes","size","htmlFor","name","toFixed"],"ignoreList":[],"sourceRoot":""}