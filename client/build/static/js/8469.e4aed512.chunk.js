/*! For license information please see 8469.e4aed512.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[8469],{65469(e,s,t){t.d(s,{A:()=>l});const l=(0,t(77784).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},68469(e,s,t){t.r(s),t.d(s,{default:()=>i});var l=t(65043),a=t(47874),r=t(60184),n=t(64049),d=t(79722),c=t(81035),o=t(70579);const i=()=>{const[e,s]=(0,l.useState)({totalProducts:0,pendingOrders:0,totalEarnings:"\u20b90",thisMonthSales:"\u20b90"}),[t,i]=(0,l.useState)([]),[x,h]=(0,l.useState)(!0),m=(0,a.Zp)(),{vendor:p,logout:u}=(0,n.N)(),b=(null===p||void 0===p?void 0:p.name)||"Vendor",g=b.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2);return(0,l.useEffect)(()=>{(async()=>{if(null!==p&&void 0!==p&&p.id)try{var e,t,l,a,r,n;h(!0);const c="http://localhost:5000api/product/dashboard?vendor_id=".concat(p.id),o=null===(e=(await d.A.get(c,{withCredentials:!0})).data)||void 0===e?void 0:e.data;s({totalProducts:null!==(t=o.total_products)&&void 0!==t?t:0,pendingOrders:null!==(l=o.pending_orders)&&void 0!==l?l:0,totalEarnings:"\u20b9".concat(Number(null!==(a=o.total_earnings)&&void 0!==a?a:0).toLocaleString()),thisMonthSales:"\u20b9".concat(Number(null!==(r=o.this_month_sales)&&void 0!==r?r:0).toLocaleString())});const x="http://localhost:5000api/product/products-list?vendor_id=".concat(p.id,"&page=1&limit=5"),m=await d.A.get(x,{withCredentials:!0});i(null!==(n=m.data.products)&&void 0!==n?n:[])}catch(o){var c;console.error("Dashboard fetch error:",o),401===(null===(c=o.response)||void 0===c?void 0:c.status)&&(u(),m("/vendor/login"))}finally{h(!1)}})()},[null===p||void 0===p?void 0:p.id,u,m]),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"p-4 sm:p-6 min-h-screen",children:[(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 border-b pb-4",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold mb-2 sm:mb-0",children:"Vendor Dashboard"}),(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsxs)("span",{className:"text-gray-600 text-sm sm:text-base",children:["Welcome back, ",(0,o.jsx)("span",{className:"font-semibold",children:b})]}),(0,o.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold",children:g})]})]}),(0,o.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6 mb-8",children:[{label:"Total Products",value:e.totalProducts,icon:(0,o.jsx)(r.TXh,{className:"text-blue-500 text-xl"}),bg:"bg-blue-100"},{label:"Pending Orders",value:e.pendingOrders,icon:(0,o.jsx)(r.w_X,{className:"text-yellow-500 text-xl"}),bg:"bg-yellow-100"},{label:"Total Earnings",value:e.totalEarnings,icon:(0,o.jsx)(r.gPb,{className:"text-green-500 text-xl"}),bg:"bg-green-100"},{label:"This Month Sales",value:e.thisMonthSales,icon:(0,o.jsx)(r.YYR,{className:"text-purple-500 text-xl"}),bg:"bg-purple-100"}].map((e,s)=>(0,o.jsxs)("div",{className:"bg-white p-4 sm:p-5 rounded-xl shadow flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-sm text-gray-500",children:e.label}),(0,o.jsx)("p",{className:"text-xl sm:text-2xl font-bold",children:x?"Loading...":e.value})]}),(0,o.jsx)("div",{className:"p-3 rounded-lg ".concat(e.bg),children:e.icon})]},s))}),(0,o.jsxs)("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow overflow-x-auto",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o.jsx)("h2",{className:"font-bold",children:"Recent Products"}),(0,o.jsx)("button",{onClick:()=>m("/vendor/all-products"),className:"text-sm text-blue-600 hover:underline",children:"View All"})]}),(0,o.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{className:"border-b bg-gray-100",children:[(0,o.jsx)("th",{className:"p-2",children:"SR."}),(0,o.jsx)("th",{className:"p-2",children:"SKU"}),(0,o.jsx)("th",{className:"p-2",children:"Category"}),(0,o.jsx)("th",{className:"p-2",children:"Group"}),(0,o.jsx)("th",{className:"p-2",children:"Brand"}),(0,o.jsx)("th",{className:"p-2",children:"Model"}),(0,o.jsx)("th",{className:"p-2",children:"Price"}),(0,o.jsx)("th",{className:"p-2",children:"Status"}),(0,o.jsx)("th",{className:"p-2",children:"Vendor"}),(0,o.jsx)("th",{className:"p-2",children:"Front Photo"}),(0,o.jsx)("th",{className:"p-2",children:"View"})]})}),(0,o.jsx)("tbody",{children:t.length>0?t.map((e,s)=>{var t,l,r,n;return(0,o.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,o.jsx)("td",{className:"p-2 font-semibold",children:s+1}),(0,o.jsx)("td",{className:"p-2 text-orange-600 cursor-pointer",children:e.sku}),(0,o.jsx)("td",{className:"p-2",children:null!==(t=null===(l=e.category)||void 0===l?void 0:l.name)&&void 0!==t?t:"N/A"}),(0,o.jsx)("td",{className:"p-2",children:e.product_group}),(0,o.jsx)("td",{className:"p-2",children:e.brand}),(0,o.jsx)("td",{className:"p-2 font-semibold",children:e.model_name}),(0,o.jsxs)("td",{className:"p-2 font-bold",children:["\u20b9",Number(e.selling_price).toLocaleString()]}),(0,o.jsx)("td",{className:"p-2",children:(0,o.jsx)("span",{className:"px-2 py-1 text-xs rounded ".concat("Approved"===e.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"),children:e.status})}),(0,o.jsx)("td",{className:"p-2",children:null!==(r=null===(n=e.vendor)||void 0===n?void 0:n.name)&&void 0!==r?r:"N/A"}),(0,o.jsx)("td",{className:"p-2",children:(0,o.jsx)("img",{src:"".concat("https://sellaids.com","/").concat(e.front_photo),alt:"not_found",className:"w-16 h-16 object-cover rounded"})}),(0,o.jsx)("td",{className:"p-2",children:(0,o.jsx)(a.N_,{to:"/vendor/view-product/".concat(e.id),className:"text-orange-600 hover:text-orange-800",children:"View"})})]},e.id)}):(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:11,className:"text-center py-4 text-gray-500",children:"No products found"})})})]})]})]}),(0,o.jsx)(c.A,{})]})}},81035(e,s,t){t.d(s,{A:()=>r});t(65043);var l=t(65469),a=t(70579);const r=()=>(0,a.jsx)("div",{className:"mt-4 py-4 border-t border-gray-200 bg-gray-50",children:(0,a.jsx)("div",{className:"max-w-3xl mx-auto text-center",children:(0,a.jsxs)("button",{onClick:()=>{window.location.href="/"},className:"inline-flex items-center gap-2 text-gray-700 hover:text-red-600 font-medium text-lg transition-colors duration-200 group",children:[(0,a.jsx)(l.A,{size:20,className:"mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Website"]})})})}}]);
//# sourceMappingURL=8469.e4aed512.chunk.js.map