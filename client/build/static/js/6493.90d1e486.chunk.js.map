{"version":3,"file":"static/js/6493.90d1e486.chunk.js","mappings":";+GAGO,MAgBDA,GAAYC,E,SAAAA,GAAiB,aAhBC,CAClC,CAAC,OAAQ,CAAEC,EAAG,iBAAkBC,IAAK,WACrC,CAAC,OAAQ,CAAED,EAAG,WAAYC,IAAK,Y,+JCIlB,SAASC,IACtB,MAAM,SAAEC,EAAQ,YAAEC,EAAW,mBAAEC,IAAuBC,EAAAA,EAAAA,MAChD,KAAEC,EAAI,gBAAEC,EAAe,cAAEC,IAAkBC,EAAAA,EAAAA,MAC3C,UAAEC,IAAcC,EAAAA,EAAAA,MACfC,EAASC,IAAcC,EAAAA,EAAAA,WAAS,GACjCC,GAAWC,EAAAA,EAAAA,OAGVC,EAAcC,IAAmBJ,EAAAA,EAAAA,UAAS,CAAC,IAqBlDK,EAAAA,EAAAA,WAAU,KACJX,IACCD,GAAwB,OAAJD,QAAI,IAAJA,GAAAA,EAAMc,IAQ7BP,GAAW,GACXQ,EAAAA,EACGC,IAAI,GAADC,OAAIC,uBAA6B,sBAAsB,CACzDC,iBAAiB,IAElBC,KAAMC,IACLxB,EAAYwB,EAAIC,KAAKA,MAAQ,IAE7B,MAAMC,EAAsBF,EAAIC,KAAKA,KAAKE,OAAO,CAACC,EAAKC,KACrDD,EAAIC,EAAKC,YAAc,EAChBF,GACN,CAAC,GACJb,EAAgBW,KAEjBK,MAAOC,IAAS,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACdC,QAAQC,MAAM,4BAA6B,CACzCC,OAAoB,QAAdR,EAAED,EAAIU,gBAAQ,IAAAT,OAAA,EAAZA,EAAcQ,OACtBE,SAAqB,QAAZT,EAAAF,EAAIU,gBAAQ,IAAAR,GAAM,QAANC,EAAZD,EAAcT,YAAI,IAAAU,OAAN,EAAZA,EAAoBQ,UAAWX,EAAIW,QAC5CC,IAAe,QAAZR,EAAEJ,EAAIa,cAAM,IAAAT,OAAA,EAAVA,EAAYQ,MAEU,OAAb,QAAZP,EAAAL,EAAIU,gBAAQ,IAAAL,OAAA,EAAZA,EAAcI,SAChBK,EAAAA,GAAMN,MAAM,+CACZO,WAAW,KACTnC,EAAS,sBAAuB,CAC9BoC,MAAO,CAAEC,KAAMC,OAAOC,SAASC,aAEhC,OAC+B,OAAb,QAAZd,EAAAN,EAAIU,gBAAQ,IAAAJ,OAAA,EAAZA,EAAcG,SACvBK,EAAAA,GAAMN,MAAM,kEAGfa,QAAQ,IAAM3C,GAAW,MAtC5BoC,EAAAA,GAAMN,MAAM,8CACZO,WAAW,KACTnC,EAAS,sBAAuB,CAC9BoC,MAAO,CAAEC,KAAMC,OAAOC,SAASC,aAEhC,SAmCJ,CAACjD,EAAMC,EAAiBC,EAAeO,EAAUZ,IAEpD,MAwCMsD,EAAoBC,IACxBA,EAAEC,OAAOC,IAAM,kCAIXC,EAAoBC,IACxB,IAAKA,GAA8B,kBAAZA,EAAsB,MAAO,GAEpD,MAAMC,EAAa,MACjB,IACE,OAAOC,KAAKC,MAAMH,EAAQI,aAAe,OAAS,EACpD,CAAE,MAAAC,GACA,MAAO,EACT,CACD,EANkB,GAkBnB,MAVe,CACbL,EAAQM,YACRN,EAAQO,WACRP,EAAQQ,YACRR,EAAQS,aACRT,EAAQU,aACRV,EAAQW,iBACLV,GACHW,OAAOC,UAMLC,EAAcA,CAACC,EAAWC,KAC9B5D,EAAiB6D,IAAU,IAADC,EACxB,MAAMC,EAAeF,EAAKF,IAAc,EAClCK,EAASrB,GACyC,QAAtDmB,EAAA9E,EAASiF,KAAMnD,GAASA,EAAKC,aAAe4C,UAAU,IAAAG,OAAA,EAAtDA,EAAwDlB,UAAW,CAAC,GAEhEsB,GAAYH,EAAeH,EAASI,EAAOG,QAAUH,EAAOG,OAClE,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAYP,GAAI,IAAE,CAACF,GAAYO,OAInC,OAAI5E,GAEA+E,EAAAA,EAAAA,KAAA,OAAKC,UAAU,+BAA8BC,UAG3CF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,oBAAmBC,SAAC,sBAGnC7E,GAEA2E,EAAAA,EAAAA,KAAA,OAAKC,UAAU,+BAA8BC,UAG3CF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,oBAAmBC,SAAC,0BAGlClF,GAAwB,OAAJD,QAAI,IAAJA,GAAAA,EAAMc,IAG3BsE,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACFC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,+BAA8BC,SAAA,EAG3CF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,oDAAmDC,SAAC,gBAG7C,IAApBvF,EAASmF,QACRK,EAAAA,EAAAA,MAAA,OAAKF,UAAU,gEAA+DC,SAAA,EAC5EF,EAAAA,EAAAA,KAAA,OACEI,MAAM,6BACNH,UAAU,8BACVI,KAAK,OACLC,QAAQ,YACRC,OAAO,eACPC,YAAa,EAAEN,UAEfF,EAAAA,EAAAA,KAAA,QACES,cAAc,QACdC,eAAe,QACflG,EAAE,4BAGNwF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,wBAAuBC,SAAC,4CAKvCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uDAAsDC,SAClEvF,EAASgG,IAAKlE,IAAU,IAADmE,EAAAC,EAAAC,EACtB,MAAMnB,EAASrB,EAAiB7B,EAAK8B,SAC/BwC,EAAcrF,EAAae,EAAKC,aAAe,EAC/CsE,EAAkBrB,EAAOoB,GAE/B,OACEZ,EAAAA,EAAAA,MAAA,OAEEF,UAAU,8GAA6GC,SAAA,EAEvHC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uCAAsCC,SAAA,EAEnDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,WAAUC,SAAA,EAEtBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yCAAwCC,UACtDF,EAAAA,EAAAA,KAAA,OACE3B,IACE2C,EAAe,GAAAhF,OACRC,uBAA6B,KAAAD,OAAIgF,GACpC,iCAENC,KAAiB,QAAZL,EAAAnE,EAAK8B,eAAO,IAAAqC,OAAA,EAAZA,EAAcM,OAAQ,gBAC3BjB,UAAU,uDACVkB,QAASjD,OAIbiC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,UACEoB,QAASA,IAAM/B,EAAY5C,EAAKC,YAAa,GAC7CuD,UAAU,2DACVoB,SAAU1B,EAAOG,QAAU,EAAEI,UAE7BF,EAAAA,EAAAA,KAAA,OACEI,MAAM,6BACNH,UAAU,UACVI,KAAK,OACLC,QAAQ,YACRC,OAAO,eAAcL,UAErBF,EAAAA,EAAAA,KAAA,QACES,cAAc,QACdC,eAAe,QACfF,YAAa,EACbhG,EAAE,yBAIRwF,EAAAA,EAAAA,KAAA,UACEoB,QAASA,IAAM/B,EAAY5C,EAAKC,WAAY,GAC5CuD,UAAU,2DACVoB,SAAU1B,EAAOG,QAAU,EAAEI,UAE7BF,EAAAA,EAAAA,KAAA,OACEI,MAAM,6BACNH,UAAU,UACVI,KAAK,OACLC,QAAQ,YACRC,OAAO,eAAcL,UAErBF,EAAAA,EAAAA,KAAA,QACES,cAAc,QACdC,eAAe,QACfF,YAAa,EACbhG,EAAE,yBAMVwF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qDAAoDC,SAChEP,EAAOgB,IAAI,CAACW,EAAKC,KAAK,IAAAC,EAAA,OACrBxB,EAAAA,EAAAA,KAAA,OAEE3B,IAAG,GAAArC,OAAKC,uBAA6B,KAAAD,OAAIsF,GACzCL,IAAG,GAAAjF,OAAiB,QAAjBwF,EAAK/E,EAAK8B,eAAO,IAAAiD,OAAA,EAAZA,EAAcN,KAAI,eAAAlF,OAAcuF,EAAQ,GAChDtB,UAAS,qEAAAjE,OACP+E,IAAgBQ,EACZ,2BACA,IAENH,QAASA,IACP/B,EAAY5C,EAAKC,WAAY6E,EAAQR,GAEvCI,QAASjD,GAXJqD,WAiBbvB,EAAAA,EAAAA,KAAA,KAAGC,UAAU,2CAA0CC,UACxC,QAAZW,EAAApE,EAAK8B,eAAO,IAAAsC,OAAA,EAAZA,EAAcK,OAAQ,qBAEzBf,EAAAA,EAAAA,MAAA,KAAGF,UAAU,gBAAeC,SAAA,CAAC,UACb,QAAZY,EAAArE,EAAK8B,eAAO,IAAAuC,OAAA,EAAZA,EAAcW,QAAS,aAO7BtB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,mCAAkCC,SAAA,EAC/CC,EAAAA,EAAAA,MAAA,UACEiB,QAASA,IA/MHM,WACtB,IACE,MAAMtF,QAAYN,EAAAA,EAAM6F,KAAK,GAAD3F,OACvBC,uBAA6B,kBAChC,CAAES,WAAY4C,GACd,CAAEpD,iBAAiB,IAErBwB,EAAAA,GAAMkE,QAAQxF,EAAIC,KAAKkB,SAAW,oCAC5BpC,GACR,CAAE,MAAOyB,GAAM,IAADiF,EAAAC,EACZ3E,QAAQC,MAAM,yBAA0BR,GACxCc,EAAAA,GAAMN,OAAkB,QAAZyE,EAAAjF,EAAIU,gBAAQ,IAAAuE,GAAM,QAANC,EAAZD,EAAcxF,YAAI,IAAAyF,OAAN,EAAZA,EAAoBvE,UAAW,oCAC7C,GAmM+BwE,CAAgBtF,EAAKC,YACpCuD,UAAU,oJAAmJC,SAAA,EAE7JF,EAAAA,EAAAA,KAAA,OACEI,MAAM,6BACNH,UAAU,eACVI,KAAK,OACLC,QAAQ,YACRC,OAAO,eACPC,YAAa,EAAEN,UAEfF,EAAAA,EAAAA,KAAA,QACES,cAAc,QACdC,eAAe,QACflG,EAAE,2JAEA,kBAGR2F,EAAAA,EAAAA,MAAA,UACEiB,QAASA,IA5PNM,WACnB,IACE,MAAMM,EAAkBrH,EAASwE,OAC9B1C,GAASA,EAAKC,aAAe4C,GAEhC1E,EAAYoH,GAEZ,MAAM5F,QAAYN,EAAAA,EAAMmG,OAAO,GAADjG,OACzBC,uBAA6B,uBAAAD,OAAsBsD,GACtD,CACEpD,iBAAiB,IAGrBwB,EAAAA,GAAMkE,QAAQxF,EAAIC,KAAKkB,SAAW,qCACpC,CAAE,MAAOX,GAAM,IAADsF,EAAAC,EACZhF,QAAQC,MAAM,yBAA0BR,GACxCd,EAAAA,EACGC,IAAI,GAADC,OAAIC,uBAA6B,sBAAsB,CACzDC,iBAAiB,IAElBC,KAAMC,GAAQxB,EAAYwB,EAAIC,KAAKA,MAAQ,KAC9CqB,EAAAA,GAAMN,OAAkB,QAAZ8E,EAAAtF,EAAIU,gBAAQ,IAAA4E,GAAM,QAANC,EAAZD,EAAc7F,YAAI,IAAA8F,OAAN,EAAZA,EAAoB5E,UAAW,+BAC7C,GAsO+B6E,CAAa3F,EAAKC,YACjCuD,UAAU,gJAA+IC,SAAA,EAEzJF,EAAAA,EAAAA,KAAA,OACEI,MAAM,6BACNH,UAAU,eACVI,KAAK,OACLC,QAAQ,YACRC,OAAO,eACPC,YAAa,EAAEN,UAEfF,EAAAA,EAAAA,KAAA,QACES,cAAc,QACdC,eAAe,QACflG,EAAE,mIAEA,iBApILiC,EAAKC,oBA+IpBsD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,OAAMC,UACnBF,EAAAA,EAAAA,KAACqC,EAAAA,EAAU,SAvLyB,IA2L5C,C,mEC5WA,MAoBA,EApBmBA,KAMfrC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gDAA+CC,UAC5DF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gCAA+BC,UAC5CC,EAAAA,EAAAA,MAAA,UACEiB,QARYkB,KAClBxE,OAAOC,SAASwE,KAAO,KAQjBtC,UAAU,2HAA0HC,SAAA,EAEpIF,EAAAA,EAAAA,KAAC1F,EAAAA,EAAS,CAACkI,KAAM,GAAIvC,UAAU,yDAAyD,wB,gCCblG,MAsBA,GAtBqBwC,E,QAAAA,GAAQC,IAAG,CAC9B3H,KAAM,KACNJ,SAAU,GAGVgI,QAAUC,GAAaF,EAAI,CAAE3H,KAAM6H,IAGnCC,OAAQA,IAAMH,EAAI,CAAE3H,KAAM,KAAMJ,SAAU,KAG1CC,YAAckI,GAAUJ,EAAI,CAAE/H,SAAUmI,IAGxCC,cAAgBtG,GACdiG,EAAK9E,IAAK,CAAQjD,SAAU,IAAIiD,EAAMjD,SAAU8B,MAGlD5B,mBAAqBgB,GACnB6G,EAAK9E,IAAK,CAAQjD,SAAUiD,EAAMjD,SAASwE,OAAQ1C,GAASA,EAAKZ,KAAOA,Q","sources":["../node_modules/lucide-react/src/icons/arrow-left.ts","pages/dashboard/Wishlist.js","components/UserFooter.jsx","stores/useWishlistStore.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","import React, { useEffect, useState } from \"react\";\r\nimport useWishlistStore from \"../../stores/useWishlistStore\";\r\nimport useCartStore from \"../../stores/useCartStore\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useUserStore } from \"../../stores/useUserStore\";\r\nimport { toast, Toaster } from \"react-hot-toast\"; // Import toast and Toaster\r\nimport UserFooter from \"../../components/UserFooter\";\r\n\r\nexport default function Wishlist() {\r\n  const { wishlist, setWishlist, removeFromWishlist } = useWishlistStore();\r\n  const { user, isAuthenticated, isUserLoading } = useUserStore();\r\n  const { fetchCart } = useCartStore();\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // State to manage the active image index for each product\r\n  const [activeImages, setActiveImages] = useState({});\r\n\r\n  const handleAddToWishlist = async (productId) => {\r\n    try {\r\n      const res = await axios.post(\r\n        `${import.meta.env.VITE_API_URL}/api/user/wishlist`,\r\n        { product_id: productId },\r\n        { withCredentials: true }\r\n      );\r\n      toast.success(res.data.message || \"Item added to wishlist! ✅\");\r\n      axios\r\n        .get(`${import.meta.env.VITE_API_URL}/api/user/wishlist`, {\r\n          withCredentials: true,\r\n        })\r\n        .then((res) => setWishlist(res.data.data || []));\r\n    } catch (err) {\r\n      console.error(\"Failed to add to wishlist:\", err);\r\n      toast.error(err.response?.data?.message || \"Failed to add to wishlist ❌\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isUserLoading) return;\r\n    if (!isAuthenticated || !user?.id) {\r\n      toast.error(\"Please log in to view your wishlist ❌\");\r\n      setTimeout(() => {\r\n        navigate(\"/UserAuth/UserLogin\", {\r\n          state: { from: window.location.pathname },\r\n        });\r\n      }, 1500); // Delay navigation\r\n    } else {\r\n      setLoading(true);\r\n      axios\r\n        .get(`${import.meta.env.VITE_API_URL}/api/user/wishlist`, {\r\n          withCredentials: true,\r\n        })\r\n        .then((res) => {\r\n          setWishlist(res.data.data || []);\r\n          // Initialize active image index for each product\r\n          const initialActiveImages = res.data.data.reduce((acc, item) => {\r\n            acc[item.product_id] = 0;\r\n            return acc;\r\n          }, {});\r\n          setActiveImages(initialActiveImages);\r\n        })\r\n        .catch((err) => {\r\n          console.error(\"Failed to fetch wishlist:\", {\r\n            status: err.response?.status,\r\n            message: err.response?.data?.message || err.message,\r\n            url: err.config?.url,\r\n          });\r\n          if (err.response?.status === 401) {\r\n            toast.error(\"Session expired. Please log in again ❌\");\r\n            setTimeout(() => {\r\n              navigate(\"/UserAuth/UserLogin\", {\r\n                state: { from: window.location.pathname },\r\n              });\r\n            }, 1500); // Delay navigation\r\n          } else if (err.response?.status === 404) {\r\n            toast.error(\"Wishlist endpoint not found. Please check the API URL ❌\");\r\n          }\r\n        })\r\n        .finally(() => setLoading(false));\r\n    }\r\n  }, [user, isAuthenticated, isUserLoading, navigate, setWishlist]);\r\n\r\n  const handleRemove = async (productId) => {\r\n    try {\r\n      const updatedWishlist = wishlist.filter(\r\n        (item) => item.product_id !== productId\r\n      );\r\n      setWishlist(updatedWishlist);\r\n\r\n      const res = await axios.delete(\r\n        `${import.meta.env.VITE_API_URL}/api/user/wishlist/${productId}`,\r\n        {\r\n          withCredentials: true,\r\n        }\r\n      );\r\n      toast.success(res.data.message || \"Item removed from wishlist! ✅\");\r\n    } catch (err) {\r\n      console.error(\"Failed to remove item:\", err);\r\n      axios\r\n        .get(`${import.meta.env.VITE_API_URL}/api/user/wishlist`, {\r\n          withCredentials: true,\r\n        })\r\n        .then((res) => setWishlist(res.data.data || []));\r\n      toast.error(err.response?.data?.message || \"Failed to remove item ❌\");\r\n    }\r\n  };\r\n\r\n  const handleAddToCart = async (productId) => {\r\n    try {\r\n      const res = await axios.post(\r\n        `${import.meta.env.VITE_API_URL}/api/user/cart`,\r\n        { product_id: productId },\r\n        { withCredentials: true }\r\n      );\r\n      toast.success(res.data.message || \"Item added to cart! ✅\");\r\n      await fetchCart();\r\n    } catch (err) {\r\n      console.error(\"Failed to add to cart:\", err);\r\n      toast.error(err.response?.data?.message || \"Failed to add item to cart ❌\");\r\n    }\r\n  };\r\n\r\n  const handleImageError = (e) => {\r\n    e.target.src = \"https://via.placeholder.com/96\"; // Fallback image\r\n  };\r\n\r\n  // Function to get all product images\r\n  const getProductImages = (product) => {\r\n    if (!product || typeof product !== \"object\") return [];\r\n\r\n    const moreImages = (() => {\r\n      try {\r\n        return JSON.parse(product.more_images || \"[]\") || [];\r\n      } catch {\r\n        return [];\r\n      }\r\n    })();\r\n\r\n    const images = [\r\n      product.front_photo,\r\n      product.back_photo,\r\n      product.label_photo,\r\n      product.inside_photo,\r\n      product.button_photo,\r\n      product.wearing_photo,\r\n      ...moreImages,\r\n    ].filter(Boolean);\r\n\r\n    return images;\r\n  };\r\n\r\n  // Function to change active image\r\n  const changeImage = (productId, offset) => {\r\n    setActiveImages((prev) => {\r\n      const currentIndex = prev[productId] || 0;\r\n      const images = getProductImages(\r\n        wishlist.find((item) => item.product_id === productId)?.product || {}\r\n      );\r\n      const newIndex = (currentIndex + offset + images.length) % images.length;\r\n      return { ...prev, [productId]: newIndex };\r\n    });\r\n  };\r\n\r\n  if (isUserLoading)\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 p-6\">\r\n        {/* <Toaster /> */}\r\n        {/* Add Toaster component */}\r\n        <p className=\"text-center mt-10\">Loading user...</p>\r\n      </div>\r\n    );\r\n  if (loading)\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 p-6\">\r\n       {/* <Toaster /> */}\r\n       {/* Add Toaster component */}\r\n        <p className=\"text-center mt-10\">Loading wishlist...</p>\r\n      </div>\r\n    );\r\n  if (!isAuthenticated || !user?.id) return null;\r\n\r\n  return (\r\n      <div>\r\n    <div className=\"min-h-screen bg-gray-100 p-6\">\r\n      {/* <Toaster /> */}\r\n      {/* Add Toaster component */}\r\n      <h1 className=\"text-3xl font-bold mb-8 text-gray-800 text-center\">\r\n        My Wishlist\r\n      </h1>\r\n      {wishlist.length === 0 ? (\r\n        <div className=\"flex flex-col items-center justify-center mt-20 text-gray-500\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            className=\"h-16 w-16 mb-4 text-red-500\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth={2}\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              d=\"M6 18L18 6M6 6l12 12\"\r\n            />\r\n          </svg>\r\n          <p className=\"text-xl font-semibold\">\r\n            No products added to your wishlist.\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {wishlist.map((item) => {\r\n            const images = getProductImages(item.product);\r\n            const activeIndex = activeImages[item.product_id] || 0;\r\n            const activeImagePath = images[activeIndex];\r\n\r\n            return (\r\n              <div\r\n                key={item.product_id}\r\n                className=\"bg-white p-4 rounded-xl shadow-lg flex flex-col items-center hover:shadow-xl transition-shadow duration-200\"\r\n              >\r\n                <div className=\"mb-4 text-center sm:text-left w-full\">\r\n                  {/* Product Image Slider */}\r\n                  <div className=\"relative\">\r\n                    {/* Main Centered Image */}\r\n                     <div className=\"flex justify-center mb-2 min-h-[192px]\">\r\n                      <img\r\n                        src={\r\n                          activeImagePath\r\n                            ? `${import.meta.env.VITE_API_URL}/${activeImagePath}`\r\n                            : \"https://via.placeholder.com/96\"\r\n                        }\r\n                        alt={item.product?.name || \"Product Image\"}\r\n                        className=\"max-w-full h-auto max-h-48 object-contain rounded-md\"\r\n                        onError={handleImageError}\r\n                      />\r\n                    </div>\r\n                    {/* Navigation Arrows */}\r\n                    <div className=\"flex justify-between mt-2\">\r\n                      <button\r\n                        onClick={() => changeImage(item.product_id, -1)}\r\n                        className=\"text-gray-600 hover:text-gray-800 disabled:text-gray-300\"\r\n                        disabled={images.length <= 1}\r\n                      >\r\n                        <svg\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                          className=\"h-6 w-6\"\r\n                          fill=\"none\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          stroke=\"currentColor\"\r\n                        >\r\n                          <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            strokeWidth={2}\r\n                            d=\"M15 19l-7-7 7-7\"\r\n                          />\r\n                        </svg>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => changeImage(item.product_id, 1)}\r\n                        className=\"text-gray-600 hover:text-gray-800 disabled:text-gray-300\"\r\n                        disabled={images.length <= 1}\r\n                      >\r\n                        <svg\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                          className=\"h-6 w-6\"\r\n                          fill=\"none\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          stroke=\"currentColor\"\r\n                        >\r\n                          <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            strokeWidth={2}\r\n                            d=\"M9 5l7 7-7 7\"\r\n                          />\r\n                        </svg>\r\n                      </button>\r\n                    </div>\r\n                    {/* Thumbnail Strip - Now with full URL */}\r\n                    <div className=\"flex overflow-x-auto space-x-2 mt-2 justify-center\">\r\n                      {images.map((img, index) => (\r\n                        <img\r\n                          key={index}\r\n                          src={`${import.meta.env.VITE_API_URL}/${img}`}\r\n                          alt={`${item.product?.name} Thumbnail ${index + 1}`}\r\n                          className={`max-w-12 h-auto max-h-12 object-contain rounded-md cursor-pointer ${\r\n                            activeIndex === index\r\n                              ? \"border-2 border-blue-600\"\r\n                              : \"\"\r\n                          }`}\r\n                          onClick={() =>\r\n                            changeImage(item.product_id, index - activeIndex)\r\n                          }\r\n                          onError={handleImageError}\r\n                        />\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                  {/* Product Details */}\r\n                  <p className=\"font-semibold text-lg text-gray-900 mt-4\">\r\n                    {item.product?.name || \"Unknown Product\"}\r\n                  </p>\r\n                  <p className=\"text-gray-700\">\r\n                    ₹{item.product?.price || \"N/A\"}\r\n                  </p>\r\n                  {/* <p className=\"text-gray-600\">\r\n                    Added by: {item.user?.name || \"Unknown User\"}\r\n                  </p> */}\r\n                </div>\r\n                {/* Buttons in a single line at the bottom */}\r\n                <div className=\"w-full flex justify-between mt-4\">\r\n                  <button\r\n                    onClick={() => handleAddToCart(item.product_id)}\r\n                    className=\"flex items-center justify-center bg-green-600 text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-green-700 transition-colors w-1/2 mr-2\"\r\n                  >\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      className=\"h-4 w-4 mr-1\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke=\"currentColor\"\r\n                      strokeWidth={2}\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        d=\"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z\"\r\n                      />\r\n                    </svg>\r\n                    Add to Cart\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleRemove(item.product_id)}\r\n                    className=\"flex items-center justify-center bg-red-600 text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-red-700 transition-colors w-1/2 ml-2\"\r\n                  >\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      className=\"h-4 w-4 mr-1\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke=\"currentColor\"\r\n                      strokeWidth={2}\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\r\n                      />\r\n                    </svg>\r\n                    Remove\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n    {/* ✅ UserFooter added */}\r\n      <div className=\"mt-8\">\r\n        <UserFooter />\r\n      </div>\r\n      </div>\r\n  );\r\n}","import React from \"react\";\r\nimport { ArrowLeft } from \"lucide-react\";\r\n\r\nconst UserFooter = () => {\r\n  const goToWebsite = () => {\r\n    window.location.href = \"/\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-4 py-4 border-t border-gray-200 bg-gray-50\">\r\n      <div className=\"max-w-3xl mx-auto text-center\">\r\n        <button\r\n          onClick={goToWebsite}\r\n          className=\"inline-flex items-center gap-2 text-gray-700 hover:text-red-600 font-medium text-lg transition-colors duration-200 group\"\r\n        >\r\n          <ArrowLeft size={20} className=\"mr-2 group-hover:-translate-x-1 transition-transform\" />\r\n          Back to Website\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserFooter;","import { create } from \"zustand\";\n\nconst useUserStore = create((set) => ({\n  user: null, // logged-in user info\n  wishlist: [], // user's wishlist\n\n  // Set user after login\n  setUser: (userData) => set({ user: userData }),\n\n  // Logout function\n  logout: () => set({ user: null, wishlist: [] }),\n\n  // Set wishlist from backend\n  setWishlist: (items) => set({ wishlist: items }),\n\n  // Add an item to wishlist\n  addToWishlist: (item) =>\n    set((state) => ({ wishlist: [...state.wishlist, item] })),\n\n  // Remove an item from wishlist\n  removeFromWishlist: (id) =>\n    set((state) => ({ wishlist: state.wishlist.filter((item) => item.id !== id) })),\n}));\n\nexport default useUserStore;"],"names":["ArrowLeft","createLucideIcon","d","key","Wishlist","wishlist","setWishlist","removeFromWishlist","useWishlistStore","user","isAuthenticated","isUserLoading","useUserStore","fetchCart","useCartStore","loading","setLoading","useState","navigate","useNavigate","activeImages","setActiveImages","useEffect","id","axios","get","concat","process","withCredentials","then","res","data","initialActiveImages","reduce","acc","item","product_id","catch","err","_err$response2","_err$response3","_err$response3$data","_err$config","_err$response4","_err$response5","console","error","status","response","message","url","config","toast","setTimeout","state","from","window","location","pathname","finally","handleImageError","e","target","src","getProductImages","product","moreImages","JSON","parse","more_images","_unused","front_photo","back_photo","label_photo","inside_photo","button_photo","wearing_photo","filter","Boolean","changeImage","productId","offset","prev","_wishlist$find","currentIndex","images","find","newIndex","length","_objectSpread","_jsx","className","children","_jsxs","xmlns","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","map","_item$product","_item$product3","_item$product4","activeIndex","activeImagePath","alt","name","onError","onClick","disabled","img","index","_item$product2","price","async","post","success","_err$response7","_err$response7$data","handleAddToCart","updatedWishlist","delete","_err$response6","_err$response6$data","handleRemove","UserFooter","goToWebsite","href","size","create","set","setUser","userData","logout","items","addToWishlist"],"ignoreList":[],"sourceRoot":""}