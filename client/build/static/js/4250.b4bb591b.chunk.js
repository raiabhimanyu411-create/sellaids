/*! For license information please see 4250.b4bb591b.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4250],{24250(e,t,a){a.r(t),a.d(t,{default:()=>g});var l=a(89379),o=a(65043),s=a(47874),n=a(79722),r=a(7104),i=a(26533),d=a(11238),c=a(23768),p=a(70579);const u="https://sellaids.com",x=[{value:"new",label:"New"},{value:"almost_new",label:"Almost New"},{value:"good",label:"Good"},{value:"hardly_ever_used",label:"Hardly Ever Used"},{value:"satisfactory",label:"Satisfactory"}],h=e=>{let{field:t,value:a,onChange:l,error:s,disabled:n,previewUrl:r}=e;const[i,d]=(0,o.useState)(!1),[c,u]=(0,o.useState)(""),[h,m]=(0,o.useState)(t.options||[]),g=(0,o.useRef)(null);(0,o.useEffect)(()=>{if(c&&Array.isArray(t.options)){const e=t.options.filter(e=>e.name?e.name.toLowerCase().includes(c.toLowerCase()):e.toString().toLowerCase().includes(c.toLowerCase()));m(e)}else m(t.options||[])},[c,t.options]),(0,o.useEffect)(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const b=()=>d(!i);var f;return"select"===t.type?(0,p.jsxs)("div",{className:"flex flex-col",ref:g,children:[(0,p.jsx)("label",{className:"text-gray-700 font-medium mb-1","data-field":t.name,children:t.label}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)("div",{className:"border rounded px-2 py-1 cursor-pointer focus:outline-none focus:ring-2 focus:ring-orange-400 ".concat(n?"bg-gray-100 cursor-not-allowed":""),onClick:n?null:b,children:"product_condition"===t.name?(null===(f=x.find(e=>e.value===a))||void 0===f?void 0:f.label)||"Select Condition":"productCategory"===t.name?a||"Select Category":a||"Select ".concat(t.label)}),i&&!n&&(0,p.jsxs)("div",{className:"absolute z-50 w-full bg-white border rounded-b mt-1 max-h-40 overflow-y-auto shadow-lg",children:[(0,p.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Search ".concat(t.label,"..."),className:"border-b px-2 py-1 w-full focus:outline-none sticky top-0 bg-white",onClick:e=>e.stopPropagation()}),h.length>0?h.map((e,a)=>{var o;return(0,p.jsx)("div",{onClick:()=>(e=>{let a=e;"productCategory"===t.name?a=e.name||e:"product_condition"===t.name&&(a=e),l({target:{name:t.name,value:a}}),u(""),d(!1)})((e.name,e)),className:"px-2 py-1.5 hover:bg-gray-100 cursor-pointer text-sm",children:"product_condition"===t.name?(null===(o=x.find(t=>t.value===(e.name||e)))||void 0===o?void 0:o.label)||e:e.name||e},a)}):(0,p.jsx)("div",{className:"px-2 py-1 text-gray-500",children:"No options found"})]})]}),s&&(0,p.jsx)("span",{className:"text-red-500 text-xs mt-1",children:s})]}):"file"===t.type?(0,p.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,p.jsx)("label",{className:"text-gray-700 font-medium text-sm md:text-base",children:t.label}),r&&(0,p.jsx)("div",{className:"mx-auto w-full max-w-xs",children:(0,p.jsx)("img",{src:r,alt:t.label,className:"w-full h-56 object-cover rounded-xl shadow-lg border border-gray-200",onError:e=>e.target.style.display="none"})}),(0,p.jsx)("input",{type:"file",name:t.name,onChange:l,multiple:t.multiple,accept:"image/*",className:"block w-full text-sm text-gray-600 file:mr-4 file:py-2.5 file:px-7 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-100 file:text-orange-700 hover:file:bg-orange-200 cursor-pointer",disabled:n}),s&&(0,p.jsx)("span",{className:"text-red-500 text-xs",children:s})]}):"textarea"===t.type?(0,p.jsxs)("div",{className:"flex flex-col",children:[(0,p.jsx)("label",{className:"text-gray-700 font-medium mb-2 text-sm md:text-base",children:t.label}),(0,p.jsx)("textarea",{name:t.name,value:a||"",onChange:l,rows:"4",className:"border rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-orange-400 resize-none"})]}):(0,p.jsxs)("div",{className:"flex flex-col",children:[(0,p.jsx)("label",{className:"text-gray-700 font-medium mb-2 text-sm md:text-base",children:t.label}),(0,p.jsx)("input",{type:t.type||"text",name:t.name,value:a||"",onChange:l,className:"border rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-orange-400",disabled:n}),s&&(0,p.jsx)("span",{className:"text-red-500 text-xs mt-1",children:s})]})},m=e=>{var t,a,r,i,d;let{product:m,onClose:g,onUpdateSuccess:b}=e;const f=(0,s.Zp)(),[y,v]=(0,o.useState)(1),[_,j]=(0,o.useState)(!1),[N,C]=(0,o.useState)({}),[w,S]=(0,o.useState)([]),[A,k]=(0,o.useState)([]),[z,P]=(0,o.useState)({}),[E,U]=(0,o.useState)(!1),R=()=>{c.oR.error("Session expired. Please login again."),f("/login")};(0,o.useEffect)(()=>{(async()=>{if(N.product_group){U(!0);try{const e=new URLSearchParams;e.append("group",N.product_group);const t=await n.A.get("".concat(u,"/api/product/categories-list?").concat(e.toString()),{withCredentials:!0});t.data.success&&S(t.data.data||[])}catch(t){var e;401===(null===(e=t.response)||void 0===e?void 0:e.status)?R():c.oR.error("Failed to load categories")}finally{U(!1)}}else S([])})()},[N.product_group]),(0,o.useEffect)(()=>{(async()=>{if(N.category_id)try{const e=await n.A.get("".concat(u,"/api/product?category_id=").concat(N.category_id),{withCredentials:!0});e.data.success&&k(e.data.data.map(e=>e.name||e.type_name||""))}catch(t){var e;401===(null===(e=t.response)||void 0===e?void 0:e.status)&&R()}else k([])})()},[N.category_id]),(0,o.useEffect)(()=>{var e,t;if(!m)return;let a={title:"",fabric:"",model_size:"",info:"",description:""};try{a=m.additional_info?JSON.parse(m.additional_info):a}catch(s){console.error("Invalid additional_info JSON")}const l={product_group:m.product_group||"",productCategory:(null===(e=m.category)||void 0===e?void 0:e.name)||"",category_id:m.category_id||(null===(t=m.category)||void 0===t?void 0:t.id)||"",product_type:m.product_type||"",product_condition:m.product_condition||"",fit:m.fit||"",size:m.size_other?"Other":m.size||"",other_size:m.size_other||"",product_color:m.product_color||"",brand:m.brand||"",model_name:m.model_name||"",invoice:m.invoice||"No",needs_repair:m.needs_repair||"No",original_box:m.original_box||"No",dust_bag:m.dust_bag||"No",additional_items:m.additional_items||"",purchase_price:m.purchase_price||"",selling_price:m.selling_price||"",reason_to_sell:m.reason_to_sell||"",purchase_year:m.purchase_year||"",purchase_place:m.purchase_place||"",product_link:m.product_link||"",additional_info:a,front_photo:null,back_photo:null,label_photo:null,inside_photo:null,button_photo:null,wearing_photo:null,invoice_photo:null,repair_photo:null,more_images:[]};C(l);const o={};["front_photo","back_photo","label_photo","inside_photo","button_photo","wearing_photo","invoice_photo","repair_photo"].forEach(e=>{if(m[e]){const t=m[e];o[e]=t.startsWith("http")?t:"".concat(u).concat(t.startsWith("/")?"":"/").concat(t)}}),P(o)},[m]);const O=e=>{const{name:t,value:a,type:o,files:s}=e.target;if(t.startsWith("additional_info.")){const e=t.split(".")[1];return void C(t=>(0,l.A)((0,l.A)({},t),{},{additional_info:(0,l.A)((0,l.A)({},t.additional_info),{},{[e]:a})}))}if("file"===o&&(null===s||void 0===s?void 0:s.length)>0)if("more_images"===t)C(e=>(0,l.A)((0,l.A)({},e),{},{more_images:[...e.more_images||[],...Array.from(s)]}));else{const e=s[0];C(a=>(0,l.A)((0,l.A)({},a),{},{[t]:e})),P(a=>(0,l.A)((0,l.A)({},a),{},{[t]:URL.createObjectURL(e)}))}else if("productCategory"===t){const e=w.find(e=>e.name===a);C(t=>(0,l.A)((0,l.A)({},t),{},{productCategory:a,category_id:e?e.id:"",product_type:""}))}else C("size"===t?e=>(0,l.A)((0,l.A)({},e),{},{size:a,other_size:"Other"===a&&e.other_size||""}):e=>(0,l.A)((0,l.A)({},e),{},{[t]:a}))};return(0,p.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,p.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-y-auto",children:[(0,p.jsxs)("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center z-10",children:[(0,p.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Edit Product"}),(0,p.jsx)("button",{onClick:g,className:"text-4xl text-gray-500 hover:text-gray-800",children:"\xd7"})]}),(0,p.jsx)("div",{className:"px-8 py-6 flex justify-center gap-8 md:gap-16 text-sm font-medium",children:["Product","Condition","Images","Price & Details"].map((e,t)=>(0,p.jsxs)("div",{className:"flex items-center gap-3 ".concat(y===t+1?"text-orange-600":"text-gray-500"),children:[(0,p.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ".concat(y===t+1?"bg-orange-600":"bg-gray-400"),children:t+1}),(0,p.jsx)("span",{className:"hidden sm:block",children:e})]},t))}),(0,p.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"px-6 md:px-12 pb-10 space-y-12",children:[1===y&&(0,p.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,p.jsx)(h,{field:{name:"product_group",label:"Group *",type:"select",options:["Men","Women","Girl","Boy"]},value:N.product_group,onChange:O}),(0,p.jsx)(h,{field:{name:"productCategory",label:"Category *",type:"select",options:E?[{name:"Loading..."}]:w},value:N.productCategory,onChange:O,disabled:!N.product_group||E}),(0,p.jsx)(h,{field:{name:"product_type",label:"Type *",type:"select",options:A},value:N.product_type,onChange:O,disabled:!N.category_id}),(0,p.jsx)(h,{field:{name:"product_condition",label:"Condition *",type:"select",options:x.map(e=>e.value)},value:N.product_condition,onChange:O}),(0,p.jsx)(h,{field:{name:"fit",label:"Fit (Only for men apparel)",type:"select",options:["Slim","Regular","Loose","Oversized","Other"]},value:N.fit,onChange:O}),(0,p.jsx)(h,{field:{name:"size",label:"Size *",type:"select",options:["XS","S","M","L","XL","XXL","Other"]},value:N.size,onChange:O}),(0,p.jsx)(h,{field:{name:"product_color",label:"Color",type:"text"},value:N.product_color,onChange:O}),(0,p.jsx)(h,{field:{name:"brand",label:"Brand *",type:"text"},value:N.brand,onChange:O}),(0,p.jsx)(h,{field:{name:"model_name",label:"Model Name ",type:"text"},value:N.model_name,onChange:O}),(0,p.jsx)(h,{field:{name:"additional_info.title",label:"Title"},value:null===(t=N.additional_info)||void 0===t?void 0:t.title,onChange:O}),(0,p.jsx)(h,{field:{name:"additional_info.fabric",label:"Fabric"},value:null===(a=N.additional_info)||void 0===a?void 0:a.fabric,onChange:O}),(0,p.jsx)(h,{field:{name:"additional_info.model_size",label:"Model Size"},value:null===(r=N.additional_info)||void 0===r?void 0:r.model_size,onChange:O}),"Other"===N.size&&(0,p.jsx)("div",{className:"sm:col-span-2",children:(0,p.jsx)(h,{field:{name:"other_size",label:"Other Size *",type:"text"},value:N.other_size,onChange:O})})]}),2===y&&(0,p.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,p.jsx)(h,{field:{name:"invoice",label:"Invoice?",type:"select",options:["No","Yes"]},value:N.invoice,onChange:O}),(0,p.jsx)(h,{field:{name:"invoice_photo",label:"Invoice Photo",type:"file"},onChange:O,previewUrl:z.invoice_photo}),(0,p.jsx)(h,{field:{name:"needs_repair",label:"Needs Repair?",type:"select",options:["No","Yes"]},value:N.needs_repair,onChange:O}),(0,p.jsx)(h,{field:{name:"repair_photo",label:"Repair Photo",type:"file"},onChange:O,previewUrl:z.repair_photo}),(0,p.jsx)(h,{field:{name:"original_box",label:"Original Box?",type:"select",options:["No","Yes"]},value:N.original_box,onChange:O}),(0,p.jsx)(h,{field:{name:"dust_bag",label:"Dust Bag?",type:"select",options:["No","Yes"]},value:N.dust_bag,onChange:O}),(0,p.jsx)("div",{className:"sm:col-span-2",children:(0,p.jsx)(h,{field:{name:"additional_items",label:"Additional Items",type:"textarea"},value:N.additional_items,onChange:O})})]}),3===y&&(0,p.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[["front_photo","back_photo","label_photo","inside_photo","button_photo","wearing_photo"].map(e=>(0,p.jsx)(h,{field:{name:e,label:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())+" *",type:"file"},onChange:O,previewUrl:z[e]},e)),(0,p.jsx)("div",{className:"lg:col-span-3",children:(0,p.jsx)(h,{field:{name:"more_images",label:"More Images (Optional)",type:"file",multiple:!0},onChange:O})})]}),4===y&&(0,p.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,p.jsx)(h,{field:{name:"purchase_price",label:"Purchase Price (\u20b9)",type:"number"},value:N.purchase_price,onChange:O}),(0,p.jsx)(h,{field:{name:"selling_price",label:"Selling Price (\u20b9)",type:"number"},value:N.selling_price,onChange:O}),(0,p.jsx)(h,{field:{name:"reason_to_sell",label:"Reason to Sell",type:"text"},value:N.reason_to_sell,onChange:O}),(0,p.jsx)(h,{field:{name:"purchase_year",label:"Purchase Year",type:"number"},value:N.purchase_year,onChange:O}),(0,p.jsx)(h,{field:{name:"purchase_place",label:"Purchase Place",type:"text"},value:N.purchase_place,onChange:O}),(0,p.jsx)(h,{field:{name:"product_link",label:"Product Link",type:"url"},value:N.product_link,onChange:O}),(0,p.jsx)("div",{className:"sm:col-span-2",children:(0,p.jsxs)("div",{className:"sm:col-span-2",children:[(0,p.jsx)("div",{className:"mt-6",children:(0,p.jsx)(h,{field:{name:"additional_info.info",label:"Additional Info",type:"textarea"},value:null===(i=N.additional_info)||void 0===i?void 0:i.info,onChange:O})}),(0,p.jsx)("div",{className:"mt-6",children:(0,p.jsx)(h,{field:{name:"additional_info.description",label:"Product Description",type:"textarea"},value:null===(d=N.additional_info)||void 0===d?void 0:d.description,onChange:O})})]})})]}),(0,p.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6 pt-10 border-t",children:[(0,p.jsx)("button",{type:"button",onClick:g,className:"w-full sm:w-auto px-10 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium",children:"Cancel"}),(0,p.jsxs)("div",{className:"flex gap-4",children:[y>1&&(0,p.jsx)("button",{type:"button",onClick:()=>v(y-1),className:"px-8 py-3 bg-gray-300 rounded-lg font-medium",children:"Back"}),y<4?(0,p.jsx)("button",{type:"button",onClick:()=>v(y+1),className:"px-12 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium text-lg",children:"Next"}):(0,p.jsx)("button",{type:"button",onClick:async()=>{const e=new FormData;Object.keys(N).forEach(t=>{const a=N[t];null!==a&&void 0!==a&&("more_images"===t&&Array.isArray(a)?a.forEach(t=>e.append("more_images",t)):a instanceof File?e.append(t,a):"size"===t&&"Other"===a?(e.append("size","Other"),N.other_size&&e.append("size_other",N.other_size)):"additional_info"===t?e.append("additional_info",JSON.stringify(a)):"other_size"!==t&&"productCategory"!==t&&e.append(t,a))});try{j(!0),await n.A.put("".concat(u,"/api/product/").concat(m.id||m._id),e,{method:"PUT",headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),c.oR.success("Product updated successfully!"),null===b||void 0===b||b(),g()}catch(r){var t;if(401===(null===(t=r.response)||void 0===t?void 0:t.status))R();else{var a,l;const e=null===(a=r.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.errors;var o,s;if(e&&Array.isArray(e)&&e.length>0)e.forEach(e=>c.oR.error(e));else c.oR.error((null===(o=r.response)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.message)||"Update failed")}}finally{j(!1)}},disabled:_,className:"px-14 py-3.5 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 font-bold text-lg shadow-xl",children:_?"Updating...":"Update Product"})]})]})]})]})})},g=()=>{const[e,t]=(0,o.useState)([]),[a,u]=(0,o.useState)(!0),[x,h]=(0,o.useState)(""),[g,b]=(0,o.useState)("all"),[f,y]=(0,o.useState)(1),[v,_]=(0,o.useState)(0),[j,N]=(0,o.useState)(null),[C,w]=(0,o.useState)(null),S=async()=>{try{u(!0);const e=await n.A.get("".concat("https://sellaids.com","/api/admin/management/product"),{params:{search:x,status:g,page:f,limit:10},withCredentials:!0}),{success:a,data:l,message:o}=e.data;a?(t(l.products),_(l.total),c.Ay.success(o)):(t([]),_(0),c.Ay.error(o))}catch(e){console.error(e),c.Ay.error("Error fetching products")}finally{u(!1)}};(0,o.useEffect)(()=>{S()},[g,f]);const A=()=>N(null),k=Math.ceil(v/10);return(0,p.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen text-gray-800",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,p.jsx)("h2",{className:"text-2xl font-bold",children:"Product Management"}),(0,p.jsxs)("button",{onClick:()=>{if(!e.length)return;const t=d.Wp.json_to_sheet(e.map((e,t)=>({SR_No:10*(f-1)+t+1,SKU:e.sku,Product_Name:e.product_type,Brand:e.brand,Price:e.selling_price,Status:e.status}))),a=d.Wp.book_new();d.Wp.book_append_sheet(a,t,"Products"),d._h(a,"products.xlsx")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center gap-2 hover:bg-blue-700",children:[(0,p.jsx)(r.A,{size:16})," Export Report"]})]}),(0,p.jsxs)("div",{className:"mb-4 flex gap-2 flex-wrap bg-white shadow-sm p-4 rounded-lg",children:[(0,p.jsx)("input",{type:"text",placeholder:"Search by SKU or Product Name",value:x,onChange:e=>h(e.target.value),className:"px-4 py-2 border rounded-lg flex-1 focus:ring focus:ring-blue-200"}),(0,p.jsx)("button",{onClick:()=>{y(1),S()},className:"px-4 py-2 bg-[#FF6A00] text-white rounded-lg hover:bg-orange-500",children:"Search"}),(0,p.jsxs)("select",{value:g,onChange:e=>{b(e.target.value),y(1)},className:"px-4 py-2 border rounded-lg",children:[(0,p.jsx)("option",{value:"all",children:"All"}),(0,p.jsx)("option",{value:"approved",children:"Approved"}),(0,p.jsx)("option",{value:"pending",children:"Pending"}),(0,p.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,p.jsx)("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:(0,p.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,p.jsx)("thead",{className:"bg-gray-100 text-gray-700",children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{className:"px-4 py-3 border",children:"SR."}),(0,p.jsx)("th",{className:"px-4 py-3 border",children:"SKU"}),(0,p.jsx)("th",{className:"px-4 py-3 border",children:"Product Name"}),(0,p.jsx)("th",{className:"px-4 py-3 border",children:"Brand"}),(0,p.jsx)("th",{className:"px-4 py-3 border",children:"Price"}),(0,p.jsx)("th",{className:"px-4 py-3 border",children:"Status"}),(0,p.jsx)("th",{className:"px-4 py-3 border",children:"Actions"})]})}),(0,p.jsx)("tbody",{children:a?(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:7,className:"text-center py-6",children:"Loading products..."})}):0===e.length?(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:7,className:"text-center py-6",children:"No matching products"})}):null===e||void 0===e?void 0:e.map((e,t)=>(0,p.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,p.jsx)("td",{className:"px-4 py-3 border",children:10*(f-1)+t+1}),(0,p.jsx)("td",{className:"px-4 py-3 border font-medium",children:e.sku}),(0,p.jsx)("td",{className:"px-4 py-3 border",children:e.product_type}),(0,p.jsx)("td",{className:"px-4 py-3 border",children:e.brand}),(0,p.jsx)("td",{className:"px-4 py-3 border",children:e.selling_price}),(0,p.jsx)("td",{className:"px-4 py-3 border",children:(0,p.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("approved"===e.status?"bg-green-100 text-green-700":"pending"===e.status?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:e.status})}),(0,p.jsxs)("td",{className:"px-4 py-3 border flex gap-2",children:[(0,p.jsx)(s.N_,{to:"/admin/products/".concat(e.id),className:"text-blue-500 hover:text-blue-700",children:"View"}),(0,p.jsxs)("button",{onClick:()=>N(e),className:"text-green-500 hover:text-green-700 flex items-center gap-1",children:[(0,p.jsx)(i.A,{size:16})," Approvement"]}),(0,p.jsxs)("button",{onClick:()=>w(e),className:"text-green-500 hover:text-green-700 flex items-center gap-1",children:[(0,p.jsx)(i.A,{size:16})," Edit"]})]})]},e.id))})]})}),k>1&&(0,p.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,p.jsx)("button",{onClick:()=>y(e=>Math.max(e-1,1)),disabled:1===f,className:"px-3 py-1 border rounded hover:bg-gray-100 disabled:opacity-50",children:"Prev"}),(()=>{const e=[];let t=Math.max(1,f-2),a=Math.min(k,t+5-1);a-t<4&&(t=Math.max(1,a-5+1)),t>1&&(e.push((0,p.jsx)("button",{onClick:()=>y(1),className:"px-3 py-1 border rounded ".concat(1===f?"bg-blue-600 text-white":""),children:"1"},1)),e.push((0,p.jsx)("span",{children:"..."},"dots1")));for(let l=t;l<=a;l++)e.push((0,p.jsx)("button",{onClick:()=>y(l),className:"px-3 py-1 border rounded ".concat(f===l?"bg-blue-600 text-white":""),children:l},l));return a<k&&(e.push((0,p.jsx)("span",{children:"..."},"dots2")),e.push((0,p.jsx)("button",{onClick:()=>y(k),className:"px-3 py-1 border rounded ".concat(f===k?"bg-blue-600 text-white":""),children:k},k))),e})(),(0,p.jsx)("button",{onClick:()=>y(e=>Math.min(e+1,k)),disabled:f===k,className:"px-3 py-1 border rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]}),j&&(0,p.jsx)("div",{className:"fixed inset-0 bg-black/40 flex justify-center items-center z-50",children:(0,p.jsxs)("div",{className:"bg-white rounded-lg p-6 w-80 relative",children:[(0,p.jsx)("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800",onClick:A,children:"\u2715"}),(0,p.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Update Product Status"}),(0,p.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,p.jsxs)("select",{name:"status",value:j.status,onChange:e=>{N(t=>(0,l.A)((0,l.A)({},t),{},{status:e.target.value}))},className:"px-3 py-2 border rounded",children:[(0,p.jsx)("option",{value:"approved",children:"Approved"}),(0,p.jsx)("option",{value:"pending",children:"Pending"}),(0,p.jsx)("option",{value:"rejected",children:"Rejected"})]}),(0,p.jsx)("button",{onClick:()=>{(async(e,t)=>{try{await n.A.patch("".concat("https://sellaids.com","/api/admin/management/product/").concat(e,"/status"),{status:t},{withCredentials:!0}),c.Ay.success("Product status updated successfully"),S(),A()}catch(a){console.error(a),c.Ay.error("Error updating status")}})(j.id,j.status)},className:"bg-[#FF6A00] text-white px-4 py-2 rounded hover:bg-orange-500",children:"Save Status"})]})]})}),C&&(0,p.jsx)(m,{product:C,onClose:()=>w(null),onUpdateSuccess:S})]})}},26533(e,t,a){a.d(t,{A:()=>l});const l=(0,a(77784).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])}}]);
//# sourceMappingURL=4250.b4bb591b.chunk.js.map