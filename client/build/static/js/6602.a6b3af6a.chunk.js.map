{"version":3,"file":"static/js/6602.a6b3af6a.chunk.js","mappings":"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","sources":["pages/Admin/PaymentCommissionDashboard.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst PaymentCommissionDashboard = () => {\r\n  const [vendorId, setVendorId] = useState(\"all\");\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const res = await axios.get(\r\n        `${import.meta.env.VITE_API_URL}/api/admin/management/payment-commission`,\r\n        {\r\n          params: { vendorId },\r\n          withCredentials: true,\r\n        }\r\n      );\r\n\r\n      setData(res?.data?.data ?? null);\r\n    } catch (err) {\r\n      setError(\"Failed to load payment & commission data\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [vendorId]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"p-6 flex items-center justify-center min-h-screen text-gray-500\">\r\n        Loading payment & commission data...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"p-6 flex items-center justify-center min-h-screen text-red-500\">\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const stats = data?.stats ?? {};\r\n  const vendors = data?.vendors ?? [];\r\n  const payments = data?.payments ?? [];\r\n\r\n  return (\r\n    <div className=\"p-6 bg-gray-50 min-h-screen\">\r\n      {/* HEADER */}\r\n      <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-5\">\r\n        <h1 className=\"text-2xl font-semibold\">\r\n          Payment & Commission\r\n        </h1>\r\n\r\n        <select\r\n          value={vendorId}\r\n          onChange={(e) => setVendorId(e.target.value)}\r\n          className=\"border p-2 rounded w-full sm:w-auto\"\r\n        >\r\n          <option value=\"all\">All Vendors</option>\r\n          {vendors?.map((v) => (\r\n            <option key={v?.id} value={v?.id}>\r\n              {v?.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* STATS */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4\">\r\n        <Stat label=\"Total Orders\" value={stats?.totalOrders ?? 0} />\r\n        <Stat label=\"Total Amount\" value={`₹${stats?.totalAmount ?? 0}`} />\r\n        <Stat\r\n          label=\"Admin Commission (Success)\"\r\n          value={`₹${stats?.adminCommission ?? 0}`}\r\n          color=\"green\"\r\n        />\r\n        <Stat\r\n          label=\"Vendor Payout (Success)\"\r\n          value={`₹${stats?.vendorPayout ?? 0}`}\r\n          color=\"blue\"\r\n        />\r\n        {/* <Stat\r\n          label=\"Vendor Earnings\"\r\n          value={`₹${stats?.totalVendorEarning ?? 0}`}\r\n        /> */}\r\n        <Stat\r\n          label=\"Total Pending Amount\"\r\n          value={`₹${stats?.totalPendingAmount ?? 0}`}\r\n          color=\"yellow\"\r\n        />\r\n        <Stat\r\n          label=\"Total Failed Amount\"\r\n          value={`₹${stats?.totalFailedAmount ?? 0}`}\r\n          color=\"red\"\r\n        />\r\n        <Stat\r\n          label=\"Total Admin Revenue\"\r\n          value={`₹${stats?.totalAdminRevenue ?? 0}`}\r\n        />\r\n        <Stat\r\n          label=\"Operational Fees\"\r\n          value={`₹${stats?.operationalFees ?? 0}`}\r\n        />\r\n      </div>\r\n\r\n      {/* TABLE */}\r\n      <div className=\"bg-white mt-6 rounded-xl border shadow-sm overflow-x-auto\">\r\n        <table className=\"w-full text-sm\">\r\n          <thead className=\"bg-gray-50 text-gray-600 uppercase text-xs\">\r\n            <tr>\r\n              <th className=\"px-5 py-4 text-left\">Sr No</th>\r\n              <th className=\"px-5 py-4 text-left\">Order</th>\r\n              <th className=\"px-5 py-4 text-left\">Amount</th>\r\n              <th className=\"px-5 py-4 text-left text-green-700\">\r\n                Admin Commission\r\n              </th>\r\n              <th className=\"px-5 py-4 text-left text-blue-700\">\r\n                Vendor Payout\r\n              </th>\r\n              <th className=\"px-5 py-4 text-left\">Status</th>\r\n              <th className=\"px-5 py-4 text-left\">Date</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            {payments?.length === 0 ? (\r\n              <tr>\r\n                <td colSpan=\"7\" className=\"px-6 py-10 text-center text-gray-500\">\r\n                  No payments found\r\n                </td>\r\n              </tr>\r\n            ) : (\r\n              payments?.map((p, i) => (\r\n                <tr\r\n                  key={p?.id}\r\n                  className={`border-t hover:bg-gray-50 transition ${i % 2 === 0 ? \"bg-white\" : \"bg-gray-50/40\"\r\n                    }`}\r\n                >\r\n                  <td className=\"px-5 py-4 font-medium\">{i + 1}</td>\r\n                  <td className=\"px-5 py-4\">{p?.order_id}</td>\r\n                  <td className=\"px-5 py-4 font-semibold\">\r\n                    ₹{p?.amount}\r\n                  </td>\r\n\r\n                  {/* ✅ FIXED */}\r\n                  <td className=\"px-5 py-4 text-green-700\">\r\n                    ₹{p?.payment_status === \"success\"\r\n                      ? p?.admin_commission ?? 0\r\n                      : 0}\r\n                  </td>\r\n\r\n                  <td className=\"px-5 py-4 text-blue-700\">\r\n                    ₹{p?.payment_status === \"success\"\r\n                      ? p?.vendor_earning ?? 0\r\n                      : 0}\r\n                  </td>\r\n\r\n                  <td className=\"px-5 py-4\">\r\n                    <span\r\n                      className={`px-3 py-1 rounded-full text-xs font-medium\r\n                        ${p?.payment_status === \"success\"\r\n                          ? \"bg-green-100 text-green-700\"\r\n                          : p?.payment_status === \"failed\"\r\n                            ? \"bg-red-100 text-red-700\"\r\n                            : \"bg-yellow-100 text-yellow-700\"\r\n                        }`}\r\n                    >\r\n                      {p?.payment_status}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-5 py-4\">\r\n                    {p?.payment_date\r\n                      ? new Date(p.payment_date)\r\n                        .toLocaleDateString(\"en-GB\")\r\n                        .replace(/\\//g, \"-\")\r\n                      : \"-\"}\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Stat = ({ label, value, color = \"gray\" }) => {\r\n  const colorMap = {\r\n    gray: \"text-gray-800\",\r\n    yellow: \"text-yellow-700\",\r\n    red: \"text-red-700\",\r\n    green: \"text-green-700\",\r\n    blue: \"text-blue-700\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white p-4 rounded-xl border shadow-sm hover:shadow-md transition\">\r\n      <p className=\"text-gray-500 text-sm mb-1\">{label}</p>\r\n      <h2 className={`text-2xl font-bold ${colorMap[color]}`}>\r\n        {value}\r\n      </h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentCommissionDashboard;"],"names":["Stat","_ref","label","value","color","_jsxs","className","children","_jsx","concat","gray","yellow","red","green","blue","PaymentCommissionDashboard","_data$stats","_data$vendors","_data$payments","_stats$totalOrders","_stats$totalAmount","_stats$adminCommissio","_stats$vendorPayout","_stats$totalPendingAm","_stats$totalFailedAmo","_stats$totalAdminReve","_stats$operationalFee","vendorId","setVendorId","useState","data","setData","loading","setLoading","error","setError","useEffect","async","_res$data$data","_res$data","res","axios","get","process","params","withCredentials","err","fetchData","stats","vendors","payments","onChange","e","target","map","v","id","name","totalOrders","totalAmount","adminCommission","vendorPayout","totalPendingAmount","totalFailedAmount","totalAdminRevenue","operationalFees","length","colSpan","p","i","_p$admin_commission","_p$vendor_earning","order_id","amount","payment_status","admin_commission","vendor_earning","payment_date","Date","toLocaleDateString","replace"],"ignoreList":[],"sourceRoot":""}