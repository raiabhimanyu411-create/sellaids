/*! For license information please see 2276.46428cbe.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[2276],{35087(e,a,t){t.d(a,{A:()=>s});const s=(0,t(77784).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},42276(e,a,t){t.r(a),t.d(a,{default:()=>m});var s=t(89379),n=t(65043),o=t(79722),r=t(94651),l=t(35087),c=(t(23768),t(43717)),d=t(41628),i=t(70579);const m=()=>{const[e,a]=(0,n.useState)({name:"",phone:"",newPassword:""}),[t,m]=(0,n.useState)({}),[u,h]=(0,n.useState)(""),[p,g]=(0,n.useState)(!1),{logout:x}=(0,d.g)();(0,n.useEffect)(()=>{(async()=>{try{const{data:e}=await o.A.get("".concat("https://sellaids.com","/api/admin/profile"),{withCredentials:!0});e.success&&e.data&&(a({name:e.data.name||"",phone:e.data.phone||"",newPassword:""}),m({name:e.data.name||"",phone:e.data.phone||""}))}catch(e){console.error("Error fetching admin:",e),h("Failed to load profile data.")}})()},[]);const f=t=>{a((0,s.A)((0,s.A)({},e),{},{[t.target.name]:t.target.value}))};return(0,i.jsxs)("div",{className:"max-w-lg mx-auto mt-10 bg-white shadow-lg rounded-lg p-6",children:[(0,i.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Profile Settings"}),u&&(0,i.jsx)("div",{className:"mb-4 text-center text-sm text-green-600",children:u}),(0,i.jsxs)("form",{onSubmit:async n=>{n.preventDefault();const r={};if(e.name&&e.name!==t.name&&(r.name=e.name),e.phone&&e.phone!==t.phone&&(r.phone=e.phone),e.newPassword&&(r.password=e.newPassword),0!==Object.keys(r).length)try{const{data:t}=await o.A.put("".concat("https://sellaids.com","/api/admin/profile"),r,{withCredentials:!0});t.success?(h("Profile updated successfully!"),m({name:e.name,phone:e.phone}),a((0,s.A)((0,s.A)({},e),{},{newPassword:""})),(0,c.G)(),x(),localStorage.removeItem("admin-store"),window.location.replace("/admin-login")):h(t.message||"Failed to update profile.")}catch(l){console.error("Update error:",l),h("Error updating profile.")}else h("No changes detected.")},className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,i.jsx)("input",{type:"text",name:"name",value:e.name,onChange:f,className:"w-full mt-1 border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,i.jsx)("input",{type:"text",name:"phone",value:e.phone,onChange:f,className:"w-full mt-1 border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"New Password"}),(0,i.jsxs)("div",{className:"relative mb-4",children:[(0,i.jsx)("input",{type:p?"text":"password",name:"newPassword",value:e.newPassword,onChange:f,className:"w-full mt-1 border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Leave blank if not changing"}),(0,i.jsx)("span",{onClick:()=>g(!p),className:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-400",children:p?(0,i.jsx)(r.A,{size:18}):(0,i.jsx)(l.A,{size:18})})]})]}),(0,i.jsx)("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition",children:"Save Changes"})]})]})}},94651(e,a,t){t.d(a,{A:()=>s});const s=(0,t(77784).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])}}]);
//# sourceMappingURL=2276.46428cbe.chunk.js.map